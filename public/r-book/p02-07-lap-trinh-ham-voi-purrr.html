

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="vi" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="vi" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Lập trình chức năng hàm với purrr &mdash; Tài liệu Phân tích dữ liệu với R 2019</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2019',
              LANGUAGE:'vi',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="_static/copybutton.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Tìm Kiếm" href="search.html" />
    <link rel="next" title="6. Biến đổi dữ liệu text" href="p02-08-bien-doi-du-lieu-text.html" />
    <link rel="prev" title="4. Lập trình hàm" href="p02-06-lap-trinh-ham.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Phân tích dữ liệu với R
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Giới thiệu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p01-01-gioi-thieu.html">Khoa học dữ liệu và nghề phân tích dữ liệu</a></li>
</ul>
<p class="caption"><span class="caption-text">Phân tích khám phá dữ liệu</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="p02-03-bien-doi-du-lieu-dplyr.html">1. Ngữ pháp của biến đổi dữ liệu với DPLYR</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-04-phan-ra-va-xoay-chieu-du-lieu.html">2. Phân rã và xoay chiều dữ liệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-05-cac-chi-so-thong-ke.html">3. Các chỉ số thống kê mô tả cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-06-lap-trinh-ham.html">4. Lập trình hàm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. Lập trình chức năng hàm với purrr</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nhom-ham-map">5.1. Nhóm hàm map</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sua-doi-gia-tri-voi-modify">5.2. Sửa đổi giá trị với <code class="docutils literal notranslate"><span class="pre">modify</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tao-ham-nhanh-voi-as-mapper">5.3. Tạo hàm nhanh với <code class="docutils literal notranslate"><span class="pre">as_mapper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#xay-dung-chuoi-cac-ham-lien-tiep-voi-compose">5.4. Xây dựng chuỗi các hàm liên tiếp với <code class="docutils literal notranslate"><span class="pre">compose</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#ung-dung">5.5. Ứng dụng</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bien-doi-du-lieu-voi-modify-va-map-df">5.5.1. Biến đổi dữ liệu với <code class="docutils literal notranslate"><span class="pre">modify</span></code> và <code class="docutils literal notranslate"><span class="pre">map_df</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#phan-tich-nhieu-nhom-khac-nhau-cung-luc">5.5.2. Phân tích nhiều nhóm khác nhau cùng lúc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phan-tich-nhieu-bien-trong-dataframe-cung-luc">5.5.3. Phân tích nhiều biến trong dataframe cùng lúc</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="p02-08-bien-doi-du-lieu-text.html">6. Biến đổi dữ liệu text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-11-quan-ly-nhieu-mo-hinh.html">7. Quản lý kết quả phân tích từ nhiều mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-15-thong-ke-co-ban.html">8. Xác suất và phân phối thống kê cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-16-power-analysis.html">9. Power analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-20-sampling-methods.html">10. Phương pháp ước lượng lấy mẫu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-50-datatable.html">11. Biến đổi dữ liệu với <code class="docutils literal notranslate"><span class="pre">data.table</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-60-thu-thap-du-lieu-tu-website.html">12. Thu thập dữ liệu từ website</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-99-meo-trong-r.html">13. Các mẹo trong R</a></li>
</ul>
<p class="caption"><span class="caption-text">Supervised learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p03-01-nguyen-ly-du-bao.html">1. Các nguyên lý dự báo</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-02-mo-hinh-ols.html">2. Mô hình OLS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-03-logistic-regression.html">3. Mô hình hồi quy logistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-04-decision-tree.html">4. Cây quyết định</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-05-bagging-boosting.html">5. Bagging, RandomForest và Boosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-07-xay-dung-mo-hinh-voi-h2o.html">6. Xây dựng mô hình với H2O</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-08-svm.html">7. Support Vector Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-09-feature-engineering.html">8. Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-15-regularization.html">9. Regularization</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-17-nonlinear.html">10. Mô hình phi tuyến tính</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-30-credit-scoring.html">11. Credit Scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-35-caret.html">12. Xây dựng mô hình dự báo với caret</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-65-chat-luong-mo-hinh.html">13. Chất lượng mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-70-tidymodels.html">14. Tidymodels</a></li>
</ul>
<p class="caption"><span class="caption-text">Unsupervised learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p04-01-unsupervised-learning.html">1. Unsupervised learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-02-kmeans.html">2. k-means</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-03-hierarchical-clustering.html">3. Hierachical clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-04-basket-analysis.html">4. Phân tích giỏ hàng</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-05-pca.html">5. Principal component analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-06-factor-analysis.html">6. Phân tích nhân tố ẩn (factor analysis)</a></li>
</ul>
<p class="caption"><span class="caption-text">Chuỗi thời gian</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p05-01-chuoi-thoi-gian.html">1. Giới thiệu về chuỗi thời gian</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-02-arima.html">2. Mô hình ARIMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-03-phan-tich-chuoi-thoi-gian-voi-tidyquant.html">3. Phân tích chuỗi thời gian với tidyquant và timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-06-du-bao-ts-voi-prophet.html">4. Dự báo chuỗi thời gian với prophet</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-07-du-bao-ts-voi-timetk.html">5. Dự báo chuỗi thời gian với timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-08-abnomaly-detection.html">6. Abnomaly detection trong times series</a></li>
</ul>
<p class="caption"><span class="caption-text">Ngôn ngữ tự nghiên</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p06-01-nlp-co-ban.html">1. Xử lý ngôn ngữ tự nhiên cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-04-text-classification.html">2. Phân loại text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-07-nlp-api.html">3. Sử dụng API từ các dịch vụ đám mây</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-10-ocr-tesseract.html">4. OCR với <code class="docutils literal notranslate"><span class="pre">tesseract</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Các phương pháp khác</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p07-01-survival-analysis.html">1. Survival analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-02-causal-impact.html">2. Causal Impact</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-03-collaborative-filtering.html">3. Collaborative Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-07-spatial-data.html">4. Spatial data</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-10-shiny.html">5. Shiny apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p09-01-gioi-thieu-deep-learning.html">1. Giới thiệu cơ bản về Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-02-co-ban-kien-thuc-toan.html">2. Kiến thức cơ bản toán học cho deep learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-03-mo-hinh-deep-learning-co-ban.html">3. Mô hình deep learning cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-04-convolution-neural-network.html">4. Convolution neural networks</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p10-01-cai-dat-rstudio-server-tren-amazon.html">1. Cài đặt server RStudio trên Amazon</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-03-web-service-azure.html">2. Xây dựng web service với Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-09-apis-voi-plumber.html">3. API với Plumber</a></li>
</ul>
<p class="caption"><span class="caption-text">Kiến thức bổ trợ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p11-01-git.html">1. Sử dụng GIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-02-cmd.html">2. CMD và Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-03-docker.html">3. Sử dụng docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-04-apis.html">4. API</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-05-html-css.html">5. Cơ bản về HTML và CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-09-other.html">6. Các tricks khác</a></li>
</ul>
<p class="caption"><span class="caption-text">Case studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p13-01-casestudy-truc-quan-hoa.html">1. Trực quan hóa dữ liệu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Phân tích dữ liệu với R</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>5. Lập trình chức năng hàm với purrr</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/p02-07-lap-trinh-ham-voi-purrr.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="lap-trinh-chuc-nang-ham-voi-purrr">
<h1>5. Lập trình chức năng hàm với purrr<a class="headerlink" href="#lap-trinh-chuc-nang-ham-voi-purrr" title="Permalink to this headline">¶</a></h1>
<p>Khi phân tích dữ liệu phức tạp, ta thường xuyên phải thực hiện một nhóm
các phân tích tương tự nhau cho các nhóm dữ liệu khác nhau. Việc sử dụng
các hàm làm đơn vị thao tác cơ bản và phối hợp các hàm với nhau được gọi
là lập trình chức năng hàm (functional programming). Để đơn giản, ta xét
ví dụ sau.</p>
<p>Sử dụng tập dữ liệu <code class="docutils literal notranslate"><span class="pre">iris</span></code>, với mỗi nhóm của <code class="docutils literal notranslate"><span class="pre">Species</span></code>, xây dựng mô
hình hồi quy giữa <code class="docutils literal notranslate"><span class="pre">Sepal.Length</span></code> và <code class="docutils literal notranslate"><span class="pre">Petal.Length</span></code>, so sánh giá trị
<code class="docutils literal notranslate"><span class="pre">r.squared</span></code> giữa các mô hình.</p>
<p>Với cách làm thông thường, ta sẽ phải thức hiện theo thứ tự sau:</p>
<ul class="simple">
<li>Tạo các data.frame cho từng giá trị của Species</li>
<li>Với mỗi data.frame vừa tạo, xây dựng mô hình <code class="docutils literal notranslate"><span class="pre">lm</span></code></li>
<li>Với mỗi mô hình vừa tạo, chiết xuất giá trị <code class="docutils literal notranslate"><span class="pre">r.squared</span></code> và lưu vào
một data.frame</li>
</ul>
<p>Cách triển khai trên có thể sử dụng vòng lặp trong R với phương án như
sau</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>dplyr<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>purrr<span class="p">)</span>

<span class="kt">category</span> <span class="o">&lt;-</span> iris<span class="o">$</span>Species <span class="o">%&gt;%</span> levels <span class="o">%&gt;%</span> <span class="kp">as.character</span><span class="p">()</span>
model_result <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">()</span>
<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="kp">category</span><span class="p">){</span>
  df <span class="o">&lt;-</span> iris <span class="o">%&gt;%</span> filter<span class="p">(</span>Species <span class="o">==</span> i<span class="p">)</span>
  model <span class="o">&lt;-</span> lm<span class="p">(</span>Sepal.Length <span class="o">~</span> Sepal.Width<span class="p">,</span> data <span class="o">=</span> df<span class="p">)</span>
  model_summary <span class="o">&lt;-</span> <span class="kp">summary</span><span class="p">(</span>model<span class="p">)</span>
  df_temp <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>species <span class="o">=</span> i<span class="p">,</span>
                        r.square <span class="o">=</span> model_summary<span class="o">$</span>r.squared<span class="p">)</span>
  model_result <span class="o">&lt;-</span> bind_rows<span class="p">(</span>model_result<span class="p">,</span> df_temp<span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Tuy nhiên, với lập trình chức năng hàm, ta có thể làm rất đơn giản như
sau.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>purrr<span class="p">)</span>
iris <span class="o">%&gt;%</span>
  <span class="kp">split</span><span class="p">(</span><span class="m">.</span><span class="o">$</span>Species<span class="p">)</span> <span class="o">%&gt;%</span>
  map<span class="p">(</span><span class="o">~</span>lm<span class="p">(</span>Sepal.Length <span class="o">~</span> Sepal.Width<span class="p">,</span> data <span class="o">=</span> <span class="m">.</span><span class="p">))</span> <span class="o">%&gt;%</span>
  map<span class="p">(</span><span class="kp">summary</span><span class="p">)</span> <span class="o">%&gt;%</span>
  map_dbl<span class="p">(</span><span class="s">&quot;r.squared&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##     setosa versicolor  virginica</span>
<span class="c1">##  0.5513756  0.2765821  0.2090573</span>
</pre></div>
</div>
<p>Trong chương này, chúng ta sẽ tìm hiểu các cách thức cơ bản lập trình
chức năng hàm với R qua package <code class="docutils literal notranslate"><span class="pre">purrr</span></code>. Việc nắm vững kiến thức và kỹ
năng lập trình hàm có rất nhiều ứng dụng trong công việc phân tích, giúp
giảm thiểu rất lớn thời gian phân tích, làm cho quá trình phân tích mạch
lạc hơn rất nhiều trong các bài toán khám phá dữ liệu</p>
<div class="section" id="nhom-ham-map">
<h2>5.1. Nhóm hàm map<a class="headerlink" href="#nhom-ham-map" title="Permalink to this headline">¶</a></h2>
<p>Công thức tổng quát của nhóm hàm map</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>map<span class="p">(</span><span class="m">.</span>x<span class="p">,</span> <span class="m">.</span>f<span class="p">,</span> <span class="kc">...</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Giải thích</strong>: Với mỗi giá trị của <code class="docutils literal notranslate"><span class="pre">.x</span></code>, thực hiện <code class="docutils literal notranslate"><span class="pre">.f</span></code>. Trong đó,
x là một list.</p>
<p>Hàm map làm hàm tổng quát, ngoài ra, <code class="docutils literal notranslate"><span class="pre">map</span></code> còn có các biến thể chính
sau</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Câu lệnh</th>
<th class="head">Kết quả</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">map</span></code></td>
<td>list</td>
</tr>
<tr class="row-odd"><td><a href="#id1"><span class="problematic" id="id2">``</span></a>map_dbl`
`</td>
<td>vector dạng double</td>
</tr>
<tr class="row-even"><td><a href="#id3"><span class="problematic" id="id4">``</span></a>map_int`
`</td>
<td>vector dạng int</td>
</tr>
<tr class="row-odd"><td><a href="#id5"><span class="problematic" id="id6">``</span></a>map_chr`
`</td>
<td>vector dạng character</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">map_df</span></code></td>
<td>data.frame</td>
</tr>
</tbody>
</table>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dạng list</span>
iris <span class="o">%&gt;%</span> map<span class="p">(</span><span class="kp">class</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## $Sepal.Length</span>
<span class="c1">## [1] &quot;numeric&quot;</span>
<span class="c1">##</span>
<span class="c1">## $Sepal.Width</span>
<span class="c1">## [1] &quot;numeric&quot;</span>
<span class="c1">##</span>
<span class="c1">## $Petal.Length</span>
<span class="c1">## [1] &quot;numeric&quot;</span>
<span class="c1">##</span>
<span class="c1">## $Petal.Width</span>
<span class="c1">## [1] &quot;numeric&quot;</span>
<span class="c1">##</span>
<span class="c1">## $Species</span>
<span class="c1">## [1] &quot;factor&quot;</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dạng char</span>
iris <span class="o">%&gt;%</span> map_chr<span class="p">(</span><span class="kp">class</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species</span>
<span class="c1">##    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;     &quot;factor&quot;</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dạng data.frame</span>
iris <span class="o">%&gt;%</span> map_df<span class="p">(</span><span class="kp">class</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 1 x 5</span>
<span class="c1">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="c1">##   &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;</span>
<span class="c1">## 1 numeric      numeric     numeric      numeric     factor</span>
</pre></div>
</div>
<p><strong>Map theo điều kiện với ``map_if`` và ``map_at``</strong></p>
<p>Tương tự với <code class="docutils literal notranslate"><span class="pre">map</span></code>, nhóm <code class="docutils literal notranslate"><span class="pre">map_if</span></code> và <code class="docutils literal notranslate"><span class="pre">map_at</span></code> cho phép tính toán
theo điều kiện hoặc vị trí của list. Xem ví dụ sau.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># map_if</span>
iris <span class="o">%&gt;%</span>
  map_if<span class="p">(</span><span class="kp">is.numeric</span><span class="p">,</span> <span class="kp">as.character</span><span class="p">)</span> <span class="o">%&gt;%</span>
  as.data.frame <span class="o">%&gt;%</span>
  str
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## &#39;data.frame&#39;:    150 obs. of  5 variables:</span>
<span class="c1">##  $ Sepal.Length: Factor w/ 35 levels &quot;4.3&quot;,&quot;4.4&quot;,&quot;4.5&quot;,..: 9 7 5 4 8 12 4 8 2 7 ...</span>
<span class="c1">##  $ Sepal.Width : Factor w/ 23 levels &quot;2&quot;,&quot;2.2&quot;,&quot;2.3&quot;,..: 15 10 12 11 16 19 14 14 9 11 ...</span>
<span class="c1">##  $ Petal.Length: Factor w/ 43 levels &quot;1&quot;,&quot;1.1&quot;,&quot;1.2&quot;,..: 5 5 4 6 5 8 5 6 5 6 ...</span>
<span class="c1">##  $ Petal.Width : Factor w/ 22 levels &quot;0.1&quot;,&quot;0.2&quot;,&quot;0.3&quot;,..: 2 2 2 2 2 4 3 2 2 1 ...</span>
<span class="c1">##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># map_at</span>
iris <span class="o">%&gt;%</span>
  map_at<span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> <span class="kp">as.character</span><span class="p">)</span> <span class="o">%&gt;%</span>
  str
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## List of 5</span>
<span class="c1">##  $ Sepal.Length: chr [1:150] &quot;5.1&quot; &quot;4.9&quot; &quot;4.7&quot; &quot;4.6&quot; ...</span>
<span class="c1">##  $ Sepal.Width : chr [1:150] &quot;3.5&quot; &quot;3&quot; &quot;3.2&quot; &quot;3.1&quot; ...</span>
<span class="c1">##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span>
<span class="c1">##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span>
<span class="c1">##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Lưu ý</strong>: Với trường hợp có hai biến đầu vào, có thể sử dụng nhóm hàm
<code class="docutils literal notranslate"><span class="pre">map2</span></code>. Ví dụ</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Không chạy</span>
map_dbl<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> <span class="kp">sum</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>map2_dbl<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> <span class="kp">sum</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] 5 7 9</span>
</pre></div>
</div>
<p>Với các trường hợp phức tạp, ta cần vận dụng linh hoạt.</p>
<p><strong>Ví dụ</strong>: Với mỗi dòng trong iris , tách thành dataframe riêng và xoay
chiều dữ liêu. Tên các cột trở thành biến <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, giá trị các cột
trở thành biến <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidyverse<span class="p">)</span>
get_data <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>data<span class="p">,</span> i<span class="p">){</span>
 df <span class="o">&lt;-</span> data <span class="o">%&gt;%</span>
    slice<span class="p">(</span>i<span class="p">)</span> <span class="o">%&gt;%</span> t <span class="o">%&gt;%</span>
    <span class="kp">as.data.frame</span>
 result <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>attribute <span class="o">=</span> <span class="kp">rownames</span><span class="p">(</span>df<span class="p">),</span>
                      value <span class="o">=</span> df<span class="p">[,</span><span class="m">1</span><span class="p">])</span>
 <span class="kp">rownames</span><span class="p">(</span>result<span class="p">)</span> <span class="o">&lt;-</span> <span class="kc">NULL</span>
 <span class="kr">return</span><span class="p">(</span>result<span class="p">)</span>
<span class="p">}</span>

get_data<span class="p">(</span>mtcars<span class="p">,</span> <span class="m">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##    attribute  value</span>
<span class="c1">## 1        mpg  22.80</span>
<span class="c1">## 2        cyl   4.00</span>
<span class="c1">## 3       disp 108.00</span>
<span class="c1">## 4         hp  93.00</span>
<span class="c1">## 5       drat   3.85</span>
<span class="c1">## 6         wt   2.32</span>
<span class="c1">## 7       qsec  18.61</span>
<span class="c1">## 8         vs   1.00</span>
<span class="c1">## 9         am   1.00</span>
<span class="c1">## 10      gear   4.00</span>
<span class="c1">## 11      carb   1.00</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>get_data<span class="p">(</span>iris<span class="p">,</span> <span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##      attribute  value</span>
<span class="c1">## 1 Sepal.Length    5.1</span>
<span class="c1">## 2  Sepal.Width    3.5</span>
<span class="c1">## 3 Petal.Length    1.4</span>
<span class="c1">## 4  Petal.Width    0.2</span>
<span class="c1">## 5      Species setosa</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>map2<span class="p">(</span><span class="kp">replicate</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> iris<span class="p">,</span> simplify <span class="o">=</span> <span class="bp">F</span><span class="p">),</span>
     <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">),</span> get_data<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [[1]]</span>
<span class="c1">##      attribute  value</span>
<span class="c1">## 1 Sepal.Length    5.1</span>
<span class="c1">## 2  Sepal.Width    3.5</span>
<span class="c1">## 3 Petal.Length    1.4</span>
<span class="c1">## 4  Petal.Width    0.2</span>
<span class="c1">## 5      Species setosa</span>
<span class="c1">##</span>
<span class="c1">## [[2]]</span>
<span class="c1">##      attribute  value</span>
<span class="c1">## 1 Sepal.Length    4.9</span>
<span class="c1">## 2  Sepal.Width      3</span>
<span class="c1">## 3 Petal.Length    1.4</span>
<span class="c1">## 4  Petal.Width    0.2</span>
<span class="c1">## 5      Species setosa</span>
<span class="c1">##</span>
<span class="c1">## [[3]]</span>
<span class="c1">##      attribute  value</span>
<span class="c1">## 1 Sepal.Length    4.7</span>
<span class="c1">## 2  Sepal.Width    3.2</span>
<span class="c1">## 3 Petal.Length    1.3</span>
<span class="c1">## 4  Petal.Width    0.2</span>
<span class="c1">## 5      Species setosa</span>
</pre></div>
</div>
</div>
<div class="section" id="sua-doi-gia-tri-voi-modify">
<h2>5.2. Sửa đổi giá trị với <code class="docutils literal notranslate"><span class="pre">modify</span></code><a class="headerlink" href="#sua-doi-gia-tri-voi-modify" title="Permalink to this headline">¶</a></h2>
<p>Tương tự như <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">modify</span></code> cho áp dụng hàm vào một nhóm các list.
Tuy nhiên, khác với <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">modify</span></code> cho ra kết quả với cấu trúc dữ
liệu ban đâu.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># map đổi cấu trúc của dataframe</span>
iris <span class="o">%&gt;%</span>
  map_if<span class="p">(</span><span class="kp">is.factor</span><span class="p">,</span> <span class="kp">as.character</span><span class="p">)</span> <span class="o">%&gt;%</span>
  str
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## List of 5</span>
<span class="c1">##  $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span>
<span class="c1">##  $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span>
<span class="c1">##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span>
<span class="c1">##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span>
<span class="c1">##  $ Species     : chr [1:150] &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># modify giữ nguyên cấu trúc</span>
iris <span class="o">%&gt;%</span>
  modify_if<span class="p">(</span><span class="kp">is.factor</span><span class="p">,</span> <span class="kp">as.character</span><span class="p">)</span> <span class="o">%&gt;%</span>
  str
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## &#39;data.frame&#39;:    150 obs. of  5 variables:</span>
<span class="c1">##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span>
<span class="c1">##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span>
<span class="c1">##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span>
<span class="c1">##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span>
<span class="c1">##  $ Species     : chr  &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; &quot;setosa&quot; ...</span>
</pre></div>
</div>
</div>
<div class="section" id="tao-ham-nhanh-voi-as-mapper">
<h2>5.3. Tạo hàm nhanh với <code class="docutils literal notranslate"><span class="pre">as_mapper</span></code><a class="headerlink" href="#tao-ham-nhanh-voi-as-mapper" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">as_mapper</span></code> cho phép tạo hàm nhanh, đặc biệt hữu ích khi ta chỉ muốn
tạo và sử dụng một hàm trong một vài trường hợp đặc biệt.</p>
<p>Công thức tổng quát</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Với một tham số</span>
as_mapper<span class="p">(</span><span class="o">~</span>f<span class="p">(</span><span class="m">.</span>x<span class="p">))</span>
<span class="c1"># Với hai tham số</span>
as_mapper<span class="p">(</span>f<span class="p">(</span><span class="m">.</span>x<span class="p">,</span> <span class="m">.</span>y<span class="p">))</span>
</pre></div>
</div>
<p>Xem các ví dụ sau:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cộng 10 vào mỗi giá trị</span>
map_dbl<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="o">~</span> <span class="m">.</span>x<span class="m">+10</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] 11 12 13</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cộng hai vector với nhau</span>
map2_dbl<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="o">:</span><span class="m">7</span><span class="p">,</span> <span class="o">~</span><span class="m">.</span>x <span class="o">+</span> <span class="m">.</span>y<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1]  6  8 10</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cách viết khác</span>
map2_dbl<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="o">:</span><span class="m">7</span><span class="p">,</span> as_mapper<span class="p">(</span><span class="o">~</span><span class="m">.</span>x <span class="o">+</span> <span class="m">.</span>y<span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1]  6  8 10</span>
</pre></div>
</div>
</div>
<div class="section" id="xay-dung-chuoi-cac-ham-lien-tiep-voi-compose">
<h2>5.4. Xây dựng chuỗi các hàm liên tiếp với <code class="docutils literal notranslate"><span class="pre">compose</span></code><a class="headerlink" href="#xay-dung-chuoi-cac-ham-lien-tiep-voi-compose" title="Permalink to this headline">¶</a></h2>
<p>Hàm <code class="docutils literal notranslate"><span class="pre">compose</span></code> cho phép kết hợp nhiều hàm với nhau với hàm ở bên phải
là input đầu vào cho hàm bên trái. Cấu trúc như sau.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>compose<span class="p">(</span>f_2<span class="p">,</span> f_1<span class="p">)</span>
<span class="c1"># Tương đương với</span>
argument <span class="o">%&gt;%</span> f_2 <span class="o">%&gt;%</span> f_1
</pre></div>
</div>
<p>Xem ví dụ sau:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidyverse<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>broom<span class="p">)</span>
lm<span class="p">(</span>Sepal.Length <span class="o">~</span> Sepal.Width<span class="p">,</span> data <span class="o">=</span> iris<span class="p">)</span> <span class="o">%&gt;%</span>
  tidy
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 2 x 5</span>
<span class="c1">##   term        estimate std.error statistic  p.value</span>
<span class="c1">##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="c1">## 1 (Intercept)    6.53      0.479     13.6  6.47e-28</span>
<span class="c1">## 2 Sepal.Width   -0.223     0.155     -1.44 1.52e- 1</span>
</pre></div>
</div>
<p>Cách viết trên có thể thay thế như sau</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>tidy_lm <span class="o">&lt;-</span> compose<span class="p">(</span>tidy<span class="p">,</span> lm<span class="p">)</span>
tidy_lm<span class="p">(</span>Sepal.Length <span class="o">~</span> Sepal.Width<span class="p">,</span> data <span class="o">=</span> iris<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 2 x 5</span>
<span class="c1">##   term        estimate std.error statistic  p.value</span>
<span class="c1">##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="c1">## 1 (Intercept)    6.53      0.479     13.6  6.47e-28</span>
<span class="c1">## 2 Sepal.Width   -0.223     0.155     -1.44 1.52e- 1</span>
</pre></div>
</div>
<p>Ta có thể thêm các nhóm hàm khác đi cùng với <code class="docutils literal notranslate"><span class="pre">compose</span></code> như <code class="docutils literal notranslate"><span class="pre">filter</span></code></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>my_func <span class="o">&lt;-</span> compose<span class="p">(</span>
  as_mapper<span class="p">(</span><span class="o">~</span>filter<span class="p">(</span><span class="m">.</span>x<span class="p">,</span> p.value <span class="o">&lt;</span> <span class="m">0.05</span><span class="p">)),</span>
  tidy<span class="p">,</span>
  lm<span class="p">)</span>
my_func<span class="p">(</span>Sepal.Length <span class="o">~</span> Sepal.Width<span class="p">,</span> data <span class="o">=</span> iris<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 1 x 5</span>
<span class="c1">##   term        estimate std.error statistic  p.value</span>
<span class="c1">##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="c1">## 1 (Intercept)     6.53     0.479      13.6 6.47e-28</span>
</pre></div>
</div>
</div>
<div class="section" id="ung-dung">
<h2>5.5. Ứng dụng<a class="headerlink" href="#ung-dung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bien-doi-du-lieu-voi-modify-va-map-df">
<h3>5.5.1. Biến đổi dữ liệu với <code class="docutils literal notranslate"><span class="pre">modify</span></code> và <code class="docutils literal notranslate"><span class="pre">map_df</span></code><a class="headerlink" href="#bien-doi-du-lieu-voi-modify-va-map-df" title="Permalink to this headline">¶</a></h3>
<p>Khi phân tích dữ liệu, đôi khi ta cần chuẩn hóa dữ liệu cho tất cả các
biến numeric trong data.frame. Với nhóm hàm của purrr, ta có thể thực
hiện như sau</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tạo hàm</span>
standardize_data <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">){</span>
  x <span class="o">&lt;-</span> <span class="p">(</span>x <span class="o">-</span> <span class="kp">min</span><span class="p">(</span>x<span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="kp">max</span><span class="p">(</span>x<span class="p">)</span> <span class="o">-</span> <span class="kp">min</span><span class="p">(</span>x<span class="p">))</span>
  <span class="kr">return</span><span class="p">(</span>x<span class="p">)</span>
<span class="p">}</span>
<span class="c1"># Sử dụng map_df</span>
df <span class="o">&lt;-</span> iris
df<span class="p">[,</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">]</span> <span class="o">&lt;-</span> df<span class="p">[,</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">]</span> <span class="o">%&gt;%</span> map_df<span class="p">(</span>standardize_data<span class="p">)</span>
df <span class="o">%&gt;%</span> <span class="kp">head</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="c1">## 1   0.22222222   0.6250000   0.06779661  0.04166667  setosa</span>
<span class="c1">## 2   0.16666667   0.4166667   0.06779661  0.04166667  setosa</span>
<span class="c1">## 3   0.11111111   0.5000000   0.05084746  0.04166667  setosa</span>
<span class="c1">## 4   0.08333333   0.4583333   0.08474576  0.04166667  setosa</span>
<span class="c1">## 5   0.19444444   0.6666667   0.06779661  0.04166667  setosa</span>
<span class="c1">## 6   0.30555556   0.7916667   0.11864407  0.12500000  setosa</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sử dụng modify</span>
<span class="c1"># Sử dụng map_df</span>
df <span class="o">&lt;-</span> iris
df <span class="o">&lt;-</span> df <span class="o">%&gt;%</span> modify_if<span class="p">(</span><span class="kp">is.numeric</span><span class="p">,</span> standardize_data<span class="p">)</span>
df <span class="o">%&gt;%</span> <span class="kp">head</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="c1">## 1   0.22222222   0.6250000   0.06779661  0.04166667  setosa</span>
<span class="c1">## 2   0.16666667   0.4166667   0.06779661  0.04166667  setosa</span>
<span class="c1">## 3   0.11111111   0.5000000   0.05084746  0.04166667  setosa</span>
<span class="c1">## 4   0.08333333   0.4583333   0.08474576  0.04166667  setosa</span>
<span class="c1">## 5   0.19444444   0.6666667   0.06779661  0.04166667  setosa</span>
<span class="c1">## 6   0.30555556   0.7916667   0.11864407  0.12500000  setosa</span>
</pre></div>
</div>
</div>
<div class="section" id="phan-tich-nhieu-nhom-khac-nhau-cung-luc">
<h3>5.5.2. Phân tích nhiều nhóm khác nhau cùng lúc<a class="headerlink" href="#phan-tich-nhieu-nhom-khac-nhau-cung-luc" title="Permalink to this headline">¶</a></h3>
<p>Khi phân tích dữ liệu, đôi khi ta muốn xây dựng chuẩn phân tích dữ liệu
qua một số bước, bao gồm:</p>
<ul class="simple">
<li>Tính toán các chỉ số thống kê</li>
<li>Vẽ đồ thị</li>
<li>Xây dụng mô hình đơn giản</li>
</ul>
<p>Quy trình này sẽ không gặp vấn đề khi ta chỉ phải xử lý với một nhóm nhỏ
dữ liệu. Khi số lượng nhóm tăng lên, việc phân tích dữ liệu trở nên khó
khăn hơn rất nhiều và tốn thời gian. Tuy nhiên, với <code class="docutils literal notranslate"><span class="pre">purrr</span></code>, các vấn
đề này trở nên rất đơn giản.</p>
<p><strong>Ví dụ</strong>: Với mỗi nhóm của Species trong tập dữ liệu iris:</p>
<ul class="simple">
<li>Tổng hơp dữ liệu</li>
<li>Vẽ đồ thị điểm giữa Sepal.Length vs.&nbsp;Petal.Length</li>
<li>Xây dựng mô hình hồi quy Sepal.Length ~ Petal.Length</li>
</ul>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidyverse<span class="p">)</span>
<span class="c1"># Bước một: Xây dựng hàm</span>
my_stat <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>data<span class="p">){</span>
  <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Summary data&quot;</span><span class="p">)</span>
  <span class="kp">print</span><span class="p">(</span><span class="s">&quot;====================&quot;</span><span class="p">)</span>
  <span class="kp">summary</span><span class="p">(</span>data<span class="p">)</span> <span class="o">%&gt;%</span> <span class="kp">print</span>

  p <span class="o">&lt;-</span> data <span class="o">%&gt;%</span>
    ggplot<span class="p">(</span>aes<span class="p">(</span>Sepal.Length<span class="p">,</span> Petal.Length<span class="p">))</span> <span class="o">+</span>
    geom_point<span class="p">()</span>

  <span class="kp">print</span><span class="p">(</span><span class="s">&quot;Summary model&quot;</span><span class="p">)</span>
  <span class="kp">print</span><span class="p">(</span><span class="s">&quot;====================&quot;</span><span class="p">)</span>
  model <span class="o">&lt;-</span> lm<span class="p">(</span>Sepal.Length <span class="o">~</span> Petal.Length<span class="p">,</span> data <span class="o">=</span> data<span class="p">)</span>
  <span class="kp">summary</span><span class="p">(</span>model<span class="p">)</span> <span class="o">%&gt;%</span> <span class="kp">print</span>
  p <span class="o">%&gt;%</span> <span class="kp">print</span>
<span class="p">}</span>
<span class="c1"># Test hàm</span>
my_stat<span class="p">(</span>iris<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;Summary data&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width</span>
<span class="c1">##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100</span>
<span class="c1">##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300</span>
<span class="c1">##  Median :5.800   Median :3.000   Median :4.350   Median :1.300</span>
<span class="c1">##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199</span>
<span class="c1">##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800</span>
<span class="c1">##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500</span>
<span class="c1">##        Species</span>
<span class="c1">##  setosa    :50</span>
<span class="c1">##  versicolor:50</span>
<span class="c1">##  virginica :50</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">## [1] &quot;Summary model&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">## lm(formula = Sepal.Length ~ Petal.Length, data = data)</span>
<span class="c1">##</span>
<span class="c1">## Residuals:</span>
<span class="c1">##      Min       1Q   Median       3Q      Max</span>
<span class="c1">## -1.24675 -0.29657 -0.01515  0.27676  1.00269</span>
<span class="c1">##</span>
<span class="c1">## Coefficients:</span>
<span class="c1">##              Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="c1">## (Intercept)   4.30660    0.07839   54.94   &lt;2e-16 ***</span>
<span class="c1">## Petal.Length  0.40892    0.01889   21.65   &lt;2e-16 ***</span>
<span class="c1">## ---</span>
<span class="c1">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="c1">##</span>
<span class="c1">## Residual standard error: 0.4071 on 148 degrees of freedom</span>
<span class="c1">## Multiple R-squared:   0.76,  Adjusted R-squared:  0.7583</span>
<span class="c1">## F-statistic: 468.6 on 1 and 148 DF,  p-value: &lt; 2.2e-16</span>
</pre></div>
</div>
<p><img alt="image0" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-1.png" /></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bước 2: Xây dựng map</span>

iris<span class="o">$</span>Species <span class="o">%&gt;%</span>
  unique <span class="o">%&gt;%</span>
  map<span class="p">(</span><span class="kr">function</span><span class="p">(</span>value<span class="p">){</span>
    <span class="kp">print</span><span class="p">(</span><span class="kp">paste0</span><span class="p">(</span><span class="s">&quot;Analysis of &quot;</span><span class="p">,</span> value<span class="p">))</span>
    iris <span class="o">%&gt;%</span>
      filter<span class="p">(</span>Species <span class="o">==</span> value<span class="p">)</span> <span class="o">%&gt;%</span>
      my_stat
  <span class="p">})</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;Analysis of setosa&quot;</span>
<span class="c1">## [1] &quot;Summary data&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width</span>
<span class="c1">##  Min.   :4.300   Min.   :2.300   Min.   :1.000   Min.   :0.100</span>
<span class="c1">##  1st Qu.:4.800   1st Qu.:3.200   1st Qu.:1.400   1st Qu.:0.200</span>
<span class="c1">##  Median :5.000   Median :3.400   Median :1.500   Median :0.200</span>
<span class="c1">##  Mean   :5.006   Mean   :3.428   Mean   :1.462   Mean   :0.246</span>
<span class="c1">##  3rd Qu.:5.200   3rd Qu.:3.675   3rd Qu.:1.575   3rd Qu.:0.300</span>
<span class="c1">##  Max.   :5.800   Max.   :4.400   Max.   :1.900   Max.   :0.600</span>
<span class="c1">##        Species</span>
<span class="c1">##  setosa    :50</span>
<span class="c1">##  versicolor: 0</span>
<span class="c1">##  virginica : 0</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">## [1] &quot;Summary model&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">## lm(formula = Sepal.Length ~ Petal.Length, data = data)</span>
<span class="c1">##</span>
<span class="c1">## Residuals:</span>
<span class="c1">##      Min       1Q   Median       3Q      Max</span>
<span class="c1">## -0.57238 -0.20671 -0.03084  0.17339  0.93608</span>
<span class="c1">##</span>
<span class="c1">## Coefficients:</span>
<span class="c1">##              Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="c1">## (Intercept)    4.2132     0.4156  10.138 1.61e-13 ***</span>
<span class="c1">## Petal.Length   0.5423     0.2823   1.921   0.0607 .</span>
<span class="c1">## ---</span>
<span class="c1">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="c1">##</span>
<span class="c1">## Residual standard error: 0.3432 on 48 degrees of freedom</span>
<span class="c1">## Multiple R-squared:  0.07138,    Adjusted R-squared:  0.05204</span>
<span class="c1">## F-statistic:  3.69 on 1 and 48 DF,  p-value: 0.0607</span>
</pre></div>
</div>
<p><img alt="image1" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-2.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;Analysis of versicolor&quot;</span>
<span class="c1">## [1] &quot;Summary data&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##   Sepal.Length    Sepal.Width     Petal.Length   Petal.Width</span>
<span class="c1">##  Min.   :4.900   Min.   :2.000   Min.   :3.00   Min.   :1.000</span>
<span class="c1">##  1st Qu.:5.600   1st Qu.:2.525   1st Qu.:4.00   1st Qu.:1.200</span>
<span class="c1">##  Median :5.900   Median :2.800   Median :4.35   Median :1.300</span>
<span class="c1">##  Mean   :5.936   Mean   :2.770   Mean   :4.26   Mean   :1.326</span>
<span class="c1">##  3rd Qu.:6.300   3rd Qu.:3.000   3rd Qu.:4.60   3rd Qu.:1.500</span>
<span class="c1">##  Max.   :7.000   Max.   :3.400   Max.   :5.10   Max.   :1.800</span>
<span class="c1">##        Species</span>
<span class="c1">##  setosa    : 0</span>
<span class="c1">##  versicolor:50</span>
<span class="c1">##  virginica : 0</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">## [1] &quot;Summary model&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">## lm(formula = Sepal.Length ~ Petal.Length, data = data)</span>
<span class="c1">##</span>
<span class="c1">## Residuals:</span>
<span class="c1">##      Min       1Q   Median       3Q      Max</span>
<span class="c1">## -0.73479 -0.20272 -0.02065  0.26092  0.69956</span>
<span class="c1">##</span>
<span class="c1">## Coefficients:</span>
<span class="c1">##              Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="c1">## (Intercept)    2.4075     0.4463   5.395 2.08e-06 ***</span>
<span class="c1">## Petal.Length   0.8283     0.1041   7.954 2.59e-10 ***</span>
<span class="c1">## ---</span>
<span class="c1">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="c1">##</span>
<span class="c1">## Residual standard error: 0.3425 on 48 degrees of freedom</span>
<span class="c1">## Multiple R-squared:  0.5686, Adjusted R-squared:  0.5596</span>
<span class="c1">## F-statistic: 63.26 on 1 and 48 DF,  p-value: 2.586e-10</span>
</pre></div>
</div>
<p><img alt="image2" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-3.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;Analysis of virginica&quot;</span>
<span class="c1">## [1] &quot;Summary data&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width</span>
<span class="c1">##  Min.   :4.900   Min.   :2.200   Min.   :4.500   Min.   :1.400</span>
<span class="c1">##  1st Qu.:6.225   1st Qu.:2.800   1st Qu.:5.100   1st Qu.:1.800</span>
<span class="c1">##  Median :6.500   Median :3.000   Median :5.550   Median :2.000</span>
<span class="c1">##  Mean   :6.588   Mean   :2.974   Mean   :5.552   Mean   :2.026</span>
<span class="c1">##  3rd Qu.:6.900   3rd Qu.:3.175   3rd Qu.:5.875   3rd Qu.:2.300</span>
<span class="c1">##  Max.   :7.900   Max.   :3.800   Max.   :6.900   Max.   :2.500</span>
<span class="c1">##        Species</span>
<span class="c1">##  setosa    : 0</span>
<span class="c1">##  versicolor: 0</span>
<span class="c1">##  virginica :50</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="c1">## [1] &quot;Summary model&quot;</span>
<span class="c1">## [1] &quot;====================&quot;</span>
<span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">## lm(formula = Sepal.Length ~ Petal.Length, data = data)</span>
<span class="c1">##</span>
<span class="c1">## Residuals:</span>
<span class="c1">##      Min       1Q   Median       3Q      Max</span>
<span class="c1">## -0.73409 -0.23643 -0.03132  0.23771  0.76207</span>
<span class="c1">##</span>
<span class="c1">## Coefficients:</span>
<span class="c1">##              Estimate Std. Error t value Pr(&gt;|t|)</span>
<span class="c1">## (Intercept)   1.05966    0.46677    2.27   0.0277 *</span>
<span class="c1">## Petal.Length  0.99574    0.08367   11.90  6.3e-16 ***</span>
<span class="c1">## ---</span>
<span class="c1">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="c1">##</span>
<span class="c1">## Residual standard error: 0.3232 on 48 degrees of freedom</span>
<span class="c1">## Multiple R-squared:  0.7469, Adjusted R-squared:  0.7416</span>
<span class="c1">## F-statistic: 141.6 on 1 and 48 DF,  p-value: 6.298e-16</span>
</pre></div>
</div>
<p><img alt="image3" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-4.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [[1]]</span>
</pre></div>
</div>
<p><img alt="image4" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-5.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## [[2]]</span>
</pre></div>
</div>
<p><img alt="image5" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-6.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## [[3]]</span>
</pre></div>
</div>
<p><img alt="image6" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-19-7.png" /></p>
</div>
<div class="section" id="phan-tich-nhieu-bien-trong-dataframe-cung-luc">
<h3>5.5.3. Phân tích nhiều biến trong dataframe cùng lúc<a class="headerlink" href="#phan-tich-nhieu-bien-trong-dataframe-cung-luc" title="Permalink to this headline">¶</a></h3>
<p>Một biên thể khác của <code class="docutils literal notranslate"><span class="pre">map</span></code> là sử dụng trong phân tích cùng lúc nhiều
biến số với một biến thuộc dạng nhóm (group). Khi lập trình với NSE, ta
cần phải sử dụng hàm <code class="docutils literal notranslate"><span class="pre">syms()</span></code> trước khi <code class="docutils literal notranslate"><span class="pre">map</span></code></p>
<p><strong>Ví dụ</strong>: Với mỗi biến số trong tập dữ liệu <code class="docutils literal notranslate"><span class="pre">iris</span></code>:</p>
<ul class="simple">
<li>So sánh giá trị trung bình của biến này với các nhóm khác nhau của
<code class="docutils literal notranslate"><span class="pre">Species</span></code></li>
<li>Vẽ biểu đồ boxplot</li>
</ul>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidyverse<span class="p">)</span>

<span class="c1"># Bước 1: Xây dựng hàm</span>

my_stat <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">){</span>
  x <span class="o">&lt;-</span> enquo<span class="p">(</span>x<span class="p">)</span>
  iris <span class="o">%&gt;%</span>
    group_by<span class="p">(</span>Species<span class="p">)</span> <span class="o">%&gt;%</span>
    summarise<span class="p">(</span>mean <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span><span class="o">!!</span>x<span class="p">))</span> <span class="o">%&gt;%</span>
    <span class="kp">print</span>
  iris <span class="o">%&gt;%</span>
    ggplot<span class="p">(</span>aes<span class="p">(</span>Species<span class="p">,</span> <span class="o">!!</span>x<span class="p">))</span> <span class="o">+</span>
    geom_boxplot<span class="p">(</span>aes<span class="p">(</span>fill <span class="o">=</span> Species<span class="p">))</span> <span class="o">+</span>
    theme_minimal<span class="p">()</span>
<span class="p">}</span>
my_stat<span class="p">(</span>Sepal.Length<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 3 x 2</span>
<span class="c1">##   Species     mean</span>
<span class="c1">##   &lt;fct&gt;      &lt;dbl&gt;</span>
<span class="c1">## 1 setosa      5.01</span>
<span class="c1">## 2 versicolor  5.94</span>
<span class="c1">## 3 virginica   6.59</span>
</pre></div>
</div>
<p><img alt="image7" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-20-1.png" /></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bước 2: Dùng map</span>
iris <span class="o">%&gt;%</span>
  select_if<span class="p">(</span><span class="kp">is.numeric</span><span class="p">)</span> <span class="o">%&gt;%</span>
  names <span class="o">%&gt;%</span>
  syms <span class="o">%&gt;%</span>
  map<span class="p">(</span>my_stat<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 3 x 2</span>
<span class="c1">##   Species     mean</span>
<span class="c1">##   &lt;fct&gt;      &lt;dbl&gt;</span>
<span class="c1">## 1 setosa      5.01</span>
<span class="c1">## 2 versicolor  5.94</span>
<span class="c1">## 3 virginica   6.59</span>
<span class="c1">## # A tibble: 3 x 2</span>
<span class="c1">##   Species     mean</span>
<span class="c1">##   &lt;fct&gt;      &lt;dbl&gt;</span>
<span class="c1">## 1 setosa      3.43</span>
<span class="c1">## 2 versicolor  2.77</span>
<span class="c1">## 3 virginica   2.97</span>
<span class="c1">## # A tibble: 3 x 2</span>
<span class="c1">##   Species     mean</span>
<span class="c1">##   &lt;fct&gt;      &lt;dbl&gt;</span>
<span class="c1">## 1 setosa      1.46</span>
<span class="c1">## 2 versicolor  4.26</span>
<span class="c1">## 3 virginica   5.55</span>
<span class="c1">## # A tibble: 3 x 2</span>
<span class="c1">##   Species     mean</span>
<span class="c1">##   &lt;fct&gt;      &lt;dbl&gt;</span>
<span class="c1">## 1 setosa     0.246</span>
<span class="c1">## 2 versicolor 1.33</span>
<span class="c1">## 3 virginica  2.03</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## [[1]]</span>
</pre></div>
</div>
<p><img alt="image8" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-20-2.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## [[2]]</span>
</pre></div>
</div>
<p><img alt="image9" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-20-3.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## [[3]]</span>
</pre></div>
</div>
<p><img alt="image10" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-20-4.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## [[4]]</span>
</pre></div>
</div>
<p><img alt="image11" src="p02-07-lap-trinh-ham-voi-purrr_files/figure-html/unnamed-chunk-20-5.png" /></p>
<p><strong>Lưu ý</strong>: Việc ứng dụng <code class="docutils literal notranslate"><span class="pre">purrr</span></code> với các hàm tính toán thống kê sẽ cho
phép phân tích khám phá dữ liệu hàng loạt</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="p02-08-bien-doi-du-lieu-text.html" class="btn btn-neutral float-right" title="6. Biến đổi dữ liệu text" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="p02-06-lap-trinh-ham.html" class="btn btn-neutral float-left" title="4. Lập trình hàm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Anh Hoang Duc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>