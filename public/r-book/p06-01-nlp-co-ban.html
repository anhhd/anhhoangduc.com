

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="vi" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="vi" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Xử lý ngôn ngữ tự nhiên cơ bản &mdash; Tài liệu Phân tích dữ liệu với R 2019</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2019',
              LANGUAGE:'vi',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="_static/copybutton.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Tìm Kiếm" href="search.html" />
    <link rel="next" title="2. Phân loại text" href="p06-04-text-classification.html" />
    <link rel="prev" title="6. Abnomaly detection trong times series" href="p05-08-abnomaly-detection.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Phân tích dữ liệu với R
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Giới thiệu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p01-01-gioi-thieu.html">Khoa học dữ liệu và nghề phân tích dữ liệu</a></li>
</ul>
<p class="caption"><span class="caption-text">Phân tích khám phá dữ liệu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p02-03-bien-doi-du-lieu-dplyr.html">1. Ngữ pháp của biến đổi dữ liệu với DPLYR</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-04-phan-ra-va-xoay-chieu-du-lieu.html">2. Phân rã và xoay chiều dữ liệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-05-cac-chi-so-thong-ke.html">3. Các chỉ số thống kê mô tả cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-06-lap-trinh-ham.html">4. Lập trình hàm</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-07-lap-trinh-ham-voi-purrr.html">5. Lập trình chức năng hàm với purrr</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-08-bien-doi-du-lieu-text.html">6. Biến đổi dữ liệu text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-11-quan-ly-nhieu-mo-hinh.html">7. Quản lý kết quả phân tích từ nhiều mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-15-thong-ke-co-ban.html">8. Xác suất và phân phối thống kê cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-16-power-analysis.html">9. Power analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-20-sampling-methods.html">10. Phương pháp ước lượng lấy mẫu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-50-datatable.html">11. Biến đổi dữ liệu với <code class="docutils literal notranslate"><span class="pre">data.table</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-60-thu-thap-du-lieu-tu-website.html">12. Thu thập dữ liệu từ website</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-99-meo-trong-r.html">13. Các mẹo trong R</a></li>
</ul>
<p class="caption"><span class="caption-text">Supervised learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p03-01-nguyen-ly-du-bao.html">1. Các nguyên lý dự báo</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-02-mo-hinh-ols.html">2. Mô hình OLS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-03-logistic-regression.html">3. Mô hình hồi quy logistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-04-decision-tree.html">4. Cây quyết định</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-05-bagging-boosting.html">5. Bagging, RandomForest và Boosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-07-xay-dung-mo-hinh-voi-h2o.html">6. Xây dựng mô hình với H2O</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-08-svm.html">7. Support Vector Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-09-feature-engineering.html">8. Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-15-regularization.html">9. Regularization</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-17-nonlinear.html">10. Mô hình phi tuyến tính</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-30-credit-scoring.html">11. Credit Scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-35-caret.html">12. Xây dựng mô hình dự báo với caret</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-65-chat-luong-mo-hinh.html">13. Chất lượng mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-70-tidymodels.html">14. Tidymodels</a></li>
</ul>
<p class="caption"><span class="caption-text">Unsupervised learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p04-01-unsupervised-learning.html">1. Unsupervised learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-02-kmeans.html">2. k-means</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-03-hierarchical-clustering.html">3. Hierachical clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-04-basket-analysis.html">4. Phân tích giỏ hàng</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-05-pca.html">5. Principal component analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-06-factor-analysis.html">6. Phân tích nhân tố ẩn (factor analysis)</a></li>
</ul>
<p class="caption"><span class="caption-text">Chuỗi thời gian</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p05-01-chuoi-thoi-gian.html">1. Giới thiệu về chuỗi thời gian</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-02-arima.html">2. Mô hình ARIMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-03-phan-tich-chuoi-thoi-gian-voi-tidyquant.html">3. Phân tích chuỗi thời gian với tidyquant và timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-06-du-bao-ts-voi-prophet.html">4. Dự báo chuỗi thời gian với prophet</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-07-du-bao-ts-voi-timetk.html">5. Dự báo chuỗi thời gian với timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-08-abnomaly-detection.html">6. Abnomaly detection trong times series</a></li>
</ul>
<p class="caption"><span class="caption-text">Ngôn ngữ tự nghiên</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Xử lý ngôn ngữ tự nhiên cơ bản</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#gioi-thieu">1.1. Giới thiệu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unnest-tokens">1.2. <code class="docutils literal notranslate"><span class="pre">Unnest_tokens</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#loai-bo-cac-tu-thua">1.3. Loại bỏ các từ thưa</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xay-dung-wordcloud">1.4. Xây dựng wordcloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tai-lieu-tham-khao">1.5. Tài liệu tham khảo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="p06-04-text-classification.html">2. Phân loại text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-07-nlp-api.html">3. Sử dụng API từ các dịch vụ đám mây</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-10-ocr-tesseract.html">4. OCR với <code class="docutils literal notranslate"><span class="pre">tesseract</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Các phương pháp khác</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p07-01-survival-analysis.html">1. Survival analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-02-causal-impact.html">2. Causal Impact</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-03-collaborative-filtering.html">3. Collaborative Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-07-spatial-data.html">4. Spatial data</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-10-shiny.html">5. Shiny apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p09-01-gioi-thieu-deep-learning.html">1. Giới thiệu cơ bản về Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-02-co-ban-kien-thuc-toan.html">2. Kiến thức cơ bản toán học cho deep learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-03-mo-hinh-deep-learning-co-ban.html">3. Mô hình deep learning cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-04-convolution-neural-network.html">4. Convolution neural networks</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p10-01-cai-dat-rstudio-server-tren-amazon.html">1. Cài đặt server RStudio trên Amazon</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-03-web-service-azure.html">2. Xây dựng web service với Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-09-apis-voi-plumber.html">3. API với Plumber</a></li>
</ul>
<p class="caption"><span class="caption-text">Kiến thức bổ trợ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p11-01-git.html">1. Sử dụng GIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-02-cmd.html">2. CMD và Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-03-docker.html">3. Sử dụng docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-04-apis.html">4. API</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-05-html-css.html">5. Cơ bản về HTML và CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-09-other.html">6. Các tricks khác</a></li>
</ul>
<p class="caption"><span class="caption-text">Case studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p13-01-casestudy-truc-quan-hoa.html">1. Trực quan hóa dữ liệu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Phân tích dữ liệu với R</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>1. Xử lý ngôn ngữ tự nhiên cơ bản</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/p06-01-nlp-co-ban.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="xu-ly-ngon-ngu-tu-nhien-co-ban">
<h1>1. Xử lý ngôn ngữ tự nhiên cơ bản<a class="headerlink" href="#xu-ly-ngon-ngu-tu-nhien-co-ban" title="Permalink to this headline">¶</a></h1>
<div class="section" id="gioi-thieu">
<h2>1.1. Giới thiệu<a class="headerlink" href="#gioi-thieu" title="Permalink to this headline">¶</a></h2>
<p>Bên cạnh các định dạng dữ liệu cơ bản (dạng bảng), dữ liệu dạng <code class="docutils literal notranslate"><span class="pre">text</span></code>
ngày càng đóng vai trò quan trọng và đòi hỏi cần được xử lý và phân tích
hiệu quả. Trong phần này, chúng ta sẽ đi qua các cách xử lý dữ liệu text
cơ bản có thể áp dụng trong <code class="docutils literal notranslate"><span class="pre">R</span></code> với <code class="docutils literal notranslate"><span class="pre">tidytext</span></code> và <code class="docutils literal notranslate"><span class="pre">h2o</span></code>.</p>
<p><strong>Lưu ý</strong>: Khi xử lý dữ liệu định dạng tiếng Việt, ta cần sử dụng
<code class="docutils literal notranslate"><span class="pre">Macbook</span></code> hoặc <code class="docutils literal notranslate"><span class="pre">Linux</span></code> trên cloud hoặc cài đặt qua docker.</p>
<p>Dữ liệu <code class="docutils literal notranslate"><span class="pre">text</span></code> có 3 dạng:</p>
<ul class="simple">
<li><strong>String</strong>: Text thuần túy</li>
<li><strong>Corpus</strong>: Text và metadata</li>
<li><strong>Document-term matrix</strong>: Dạng sparse matrix, dòng là document, cột
là <code class="docutils literal notranslate"><span class="pre">term</span></code> đã được phân rã</li>
</ul>
<p>Phân tích khám phá dữ liệu <code class="docutils literal notranslate"><span class="pre">text</span></code> thường trải qua ba giai đoạn:</p>
<ul class="simple">
<li><strong>Unnest token</strong>: Phân rã <code class="docutils literal notranslate"><span class="pre">text</span></code> thành các cụm 2 hoặc 3 âm, được
gọi là <code class="docutils literal notranslate"><span class="pre">tokens</span></code></li>
<li>Loại bỏ các cụm, từ vô nghĩa</li>
<li>Vizualize kết quả thành định dạng words hoặc tiếp tục xây dựng thành
các nhóm mô hình dự báo</li>
</ul>
</div>
<div class="section" id="unnest-tokens">
<h2>1.2. <code class="docutils literal notranslate"><span class="pre">Unnest_tokens</span></code><a class="headerlink" href="#unnest-tokens" title="Permalink to this headline">¶</a></h2>
<p>Unnest tokens là một kỹ thuật cho phép tách các từ trong words thành
từng dòng</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>tidytext<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>tidyverse<span class="p">)</span>
text <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Because I could not stop for Death -&quot;</span><span class="p">,</span>
          <span class="s">&quot;He kindly stopped for me -&quot;</span><span class="p">,</span>
          <span class="s">&quot;The Carriage held but just Ourselves -&quot;</span><span class="p">,</span>
          <span class="s">&quot;and Immortality&quot;</span><span class="p">)</span>
text_df <span class="o">&lt;-</span> <span class="kt">data_frame</span><span class="p">(</span>line <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> text <span class="o">=</span> text<span class="p">)</span>
text_df
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 4 x 2</span>
<span class="c1">##    line text</span>
<span class="c1">##   &lt;int&gt; &lt;chr&gt;</span>
<span class="c1">## 1     1 Because I could not stop for Death -</span>
<span class="c1">## 2     2 He kindly stopped for me -</span>
<span class="c1">## 3     3 The Carriage held but just Ourselves -</span>
<span class="c1">## 4     4 and Immortality</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Sử dụng tokens</span>
<span class="c1">#Tokens theo từ</span>
text_df <span class="o">%&gt;%</span>
  unnest_tokens<span class="p">(</span>word<span class="p">,</span> text<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 20 x 2</span>
<span class="c1">##     line word</span>
<span class="c1">##    &lt;int&gt; &lt;chr&gt;</span>
<span class="c1">##  1     1 because</span>
<span class="c1">##  2     1 i</span>
<span class="c1">##  3     1 could</span>
<span class="c1">##  4     1 not</span>
<span class="c1">##  5     1 stop</span>
<span class="c1">##  6     1 for</span>
<span class="c1">##  7     1 death</span>
<span class="c1">##  8     2 he</span>
<span class="c1">##  9     2 kindly</span>
<span class="c1">## 10     2 stopped</span>
<span class="c1">## 11     2 for</span>
<span class="c1">## 12     2 me</span>
<span class="c1">## 13     3 the</span>
<span class="c1">## 14     3 carriage</span>
<span class="c1">## 15     3 held</span>
<span class="c1">## 16     3 but</span>
<span class="c1">## 17     3 just</span>
<span class="c1">## 18     3 ourselves</span>
<span class="c1">## 19     4 and</span>
<span class="c1">## 20     4 immortality</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Tokens theo cụm 2 từ</span>
text_df <span class="o">%&gt;%</span>
  unnest_tokens<span class="p">(</span>ngram<span class="p">,</span> text<span class="p">,</span> token <span class="o">=</span> <span class="s">&quot;ngrams&quot;</span><span class="p">,</span> n <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 16 x 2</span>
<span class="c1">##     line ngram</span>
<span class="c1">##    &lt;int&gt; &lt;chr&gt;</span>
<span class="c1">##  1     1 because i</span>
<span class="c1">##  2     1 i could</span>
<span class="c1">##  3     1 could not</span>
<span class="c1">##  4     1 not stop</span>
<span class="c1">##  5     1 stop for</span>
<span class="c1">##  6     1 for death</span>
<span class="c1">##  7     2 he kindly</span>
<span class="c1">##  8     2 kindly stopped</span>
<span class="c1">##  9     2 stopped for</span>
<span class="c1">## 10     2 for me</span>
<span class="c1">## 11     3 the carriage</span>
<span class="c1">## 12     3 carriage held</span>
<span class="c1">## 13     3 held but</span>
<span class="c1">## 14     3 but just</span>
<span class="c1">## 15     3 just ourselves</span>
<span class="c1">## 16     4 and immortality</span>
</pre></div>
</div>
</div>
<div class="section" id="loai-bo-cac-tu-thua">
<h2>1.3. Loại bỏ các từ thưa<a class="headerlink" href="#loai-bo-cac-tu-thua" title="Permalink to this headline">¶</a></h2>
<p>Trong ví dụ trên, ta chưa loại bỏ các cụm từ không cần thiết. Khi phân
tích, cần loại bỏ các từ này để tránh bị nhiễu</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span>stop_words <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>word <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;i&quot;</span><span class="p">,</span> <span class="s">&quot;not&quot;</span><span class="p">,</span> <span class="s">&quot;but&quot;</span><span class="p">,</span> <span class="s">&quot;and&quot;</span><span class="p">))</span>

<span class="c1">#Loại bỏ stopword</span>
text_df <span class="o">%&gt;%</span>
  unnest_tokens<span class="p">(</span>word<span class="p">,</span> text<span class="p">)</span> <span class="o">%&gt;%</span>
  anti_join<span class="p">(</span>stop_words<span class="p">)</span> <span class="o">%&gt;%</span>
  arrange<span class="p">(</span>line<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 16 x 2</span>
<span class="c1">##     line word</span>
<span class="c1">##    &lt;int&gt; &lt;chr&gt;</span>
<span class="c1">##  1     1 because</span>
<span class="c1">##  2     1 could</span>
<span class="c1">##  3     1 stop</span>
<span class="c1">##  4     1 for</span>
<span class="c1">##  5     1 death</span>
<span class="c1">##  6     2 he</span>
<span class="c1">##  7     2 kindly</span>
<span class="c1">##  8     2 stopped</span>
<span class="c1">##  9     2 for</span>
<span class="c1">## 10     2 me</span>
<span class="c1">## 11     3 the</span>
<span class="c1">## 12     3 carriage</span>
<span class="c1">## 13     3 held</span>
<span class="c1">## 14     3 just</span>
<span class="c1">## 15     3 ourselves</span>
<span class="c1">## 16     4 immortality</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Đếm tần xuất</span>
text_df <span class="o">%&gt;%</span>
  unnest_tokens<span class="p">(</span>word<span class="p">,</span> text<span class="p">)</span> <span class="o">%&gt;%</span>
  count<span class="p">(</span>word<span class="p">,</span> sort <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## # A tibble: 19 x 2</span>
<span class="c1">##    word            n</span>
<span class="c1">##    &lt;chr&gt;       &lt;int&gt;</span>
<span class="c1">##  1 for             2</span>
<span class="c1">##  2 and             1</span>
<span class="c1">##  3 because         1</span>
<span class="c1">##  4 but             1</span>
<span class="c1">##  5 carriage        1</span>
<span class="c1">##  6 could           1</span>
<span class="c1">##  7 death           1</span>
<span class="c1">##  8 he              1</span>
<span class="c1">##  9 held            1</span>
<span class="c1">## 10 i               1</span>
<span class="c1">## 11 immortality     1</span>
<span class="c1">## 12 just            1</span>
<span class="c1">## 13 kindly          1</span>
<span class="c1">## 14 me              1</span>
<span class="c1">## 15 not             1</span>
<span class="c1">## 16 ourselves       1</span>
<span class="c1">## 17 stop            1</span>
<span class="c1">## 18 stopped         1</span>
<span class="c1">## 19 the             1</span>
</pre></div>
</div>
</div>
<div class="section" id="xay-dung-wordcloud">
<h2>1.4. Xây dựng wordcloud<a class="headerlink" href="#xay-dung-wordcloud" title="Permalink to this headline">¶</a></h2>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>wordcloud<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>janeaustenr<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>stringr<span class="p">)</span>

tidy_books <span class="o">&lt;-</span> austen_books<span class="p">()</span> <span class="o">%&gt;%</span>
  group_by<span class="p">(</span>book<span class="p">)</span> <span class="o">%&gt;%</span>
  mutate<span class="p">(</span>linenumber <span class="o">=</span> row_number<span class="p">(),</span>
         chapter <span class="o">=</span> <span class="kp">cumsum</span><span class="p">(</span>str_detect<span class="p">(</span>text<span class="p">,</span> regex<span class="p">(</span><span class="s">&quot;^chapter [\\divxlc]&quot;</span><span class="p">,</span>
                                                 ignore_case <span class="o">=</span> <span class="kc">TRUE</span><span class="p">))))</span> <span class="o">%&gt;%</span>
  ungroup<span class="p">()</span> <span class="o">%&gt;%</span>
  unnest_tokens<span class="p">(</span>word<span class="p">,</span> text<span class="p">)</span>


tidy_books <span class="o">%&gt;%</span>
  anti_join<span class="p">(</span>stop_words<span class="p">)</span> <span class="o">%&gt;%</span>
  count<span class="p">(</span>word<span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="kp">with</span><span class="p">(</span>wordcloud<span class="p">(</span>word<span class="p">,</span> n<span class="p">,</span> max.words <span class="o">=</span> <span class="m">100</span><span class="p">),</span>
       colors<span class="o">=</span>brewer.pal<span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="s">&quot;Pal2&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p><img alt="image0" src="p06-01-nlp-co-ban_files/figure-html/unnamed-chunk-4-1.png" /></p>
</div>
<div class="section" id="tai-lieu-tham-khao">
<h2>1.5. Tài liệu tham khảo<a class="headerlink" href="#tai-lieu-tham-khao" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://www.tidytextmining.com/">https://www.tidytextmining.com/</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="p06-04-text-classification.html" class="btn btn-neutral float-right" title="2. Phân loại text" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="p05-08-abnomaly-detection.html" class="btn btn-neutral float-left" title="6. Abnomaly detection trong times series" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Anh Hoang Duc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>