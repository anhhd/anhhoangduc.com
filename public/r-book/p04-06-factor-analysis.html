

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="vi" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="vi" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6. Phân tích nhân tố ẩn (factor analysis) &mdash; Tài liệu Phân tích dữ liệu với R 2019</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'2019',
              LANGUAGE:'vi',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="_static/copybutton.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Tìm Kiếm" href="search.html" />
    <link rel="next" title="1. Giới thiệu về chuỗi thời gian" href="p05-01-chuoi-thoi-gian.html" />
    <link rel="prev" title="5. Principal component analysis" href="p04-05-pca.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Phân tích dữ liệu với R
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Giới thiệu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p01-01-gioi-thieu.html">Khoa học dữ liệu và nghề phân tích dữ liệu</a></li>
</ul>
<p class="caption"><span class="caption-text">Phân tích khám phá dữ liệu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p02-03-bien-doi-du-lieu-dplyr.html">1. Ngữ pháp của biến đổi dữ liệu với DPLYR</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-04-phan-ra-va-xoay-chieu-du-lieu.html">2. Phân rã và xoay chiều dữ liệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-05-cac-chi-so-thong-ke.html">3. Các chỉ số thống kê mô tả cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-06-lap-trinh-ham.html">4. Lập trình hàm</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-07-lap-trinh-ham-voi-purrr.html">5. Lập trình chức năng hàm với purrr</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-08-bien-doi-du-lieu-text.html">6. Biến đổi dữ liệu text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-11-quan-ly-nhieu-mo-hinh.html">7. Quản lý kết quả phân tích từ nhiều mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-15-thong-ke-co-ban.html">8. Xác suất và phân phối thống kê cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-16-power-analysis.html">9. Power analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-20-sampling-methods.html">10. Phương pháp ước lượng lấy mẫu</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-50-datatable.html">11. Biến đổi dữ liệu với <code class="docutils literal notranslate"><span class="pre">data.table</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-60-thu-thap-du-lieu-tu-website.html">12. Thu thập dữ liệu từ website</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-99-meo-trong-r.html">13. Các mẹo trong R</a></li>
</ul>
<p class="caption"><span class="caption-text">Supervised learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p03-01-nguyen-ly-du-bao.html">1. Các nguyên lý dự báo</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-02-mo-hinh-ols.html">2. Mô hình OLS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-03-logistic-regression.html">3. Mô hình hồi quy logistic</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-04-decision-tree.html">4. Cây quyết định</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-05-bagging-boosting.html">5. Bagging, RandomForest và Boosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-08-svm.html">6. Support Vector Machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-09-feature-engineering.html">7. Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-15-regularization.html">8. Regularization</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-17-nonlinear.html">9. Mô hình phi tuyến tính</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-30-credit-scoring.html">10. Credit Scoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-35-caret.html">11. Xây dựng mô hình dự báo với caret</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-65-chat-luong-mo-hinh.html">12. Chất lượng mô hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="p03-70-tidymodels.html">13. Tidymodels</a></li>
</ul>
<p class="caption"><span class="caption-text">Unsupervised learning</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="p04-01-unsupervised-learning.html">1. Unsupervised learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-02-kmeans.html">2. k-means</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-03-hierarchical-clustering.html">3. Hierachical clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-04-basket-analysis.html">4. Phân tích giỏ hàng</a></li>
<li class="toctree-l1"><a class="reference internal" href="p04-05-pca.html">5. Principal component analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Phân tích nhân tố ẩn (factor analysis)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#so-sanh-giua-efa-va-pca">6.1. So sánh giữa EFA và PCA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cac-diem-giong-nhau">6.1.1. Các điểm giống nhau</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cac-diem-khac-nhau">6.1.2. Các điểm khác nhau</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#thuat-toan">6.1.2.1. Thuật toán</a></li>
<li class="toctree-l4"><a class="reference internal" href="#muc-dich-su-dung">6.1.2.2. Mục đích sử dụng</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ung-dung-trong-kinh-doanh">6.1.2.3. Ứng dụng trong kinh doanh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cac-buoc-thuc-hien">6.2. Các bước thực hiện</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kiem-dinh-xem-tap-du-lieu-co-du-dieu-kien-cho-factor-analysis-khong">6.2.1. Kiểm định xem tập dữ liệu có đủ điều kiện cho factor analysis không</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chon-so-factor">6.2.2. Chọn số factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thuc-hien-factor-analysis">6.2.3. Thực hiện factor analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#danh-gia-do-tin-cay-va-do-chinh-xac-cua-mo-hinh">6.2.4. Đánh giá độ tin cậy và độ chính xác của mô hình</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dat-ten-cho-cac-factor">6.2.5. Đặt tên cho các factor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#thuc-hanh-trong-r">6.3. Thực hành trong R</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tai-lieu-tham-khao">6.4. Tài liệu tham khảo</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Chuỗi thời gian</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p05-01-chuoi-thoi-gian.html">1. Giới thiệu về chuỗi thời gian</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-02-arima.html">2. Mô hình ARIMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-03-phan-tich-chuoi-thoi-gian-voi-tidyquant.html">3. Phân tích chuỗi thời gian với tidyquant và timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-06-du-bao-ts-voi-prophet.html">4. Dự báo chuỗi thời gian với prophet</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-07-du-bao-ts-voi-timetk.html">5. Dự báo chuỗi thời gian với timetk</a></li>
<li class="toctree-l1"><a class="reference internal" href="p05-08-abnomaly-detection.html">6. Abnomaly detection trong times series</a></li>
</ul>
<p class="caption"><span class="caption-text">Ngôn ngữ tự nghiên</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p06-01-nlp-co-ban.html">1. Xử lý ngôn ngữ tự nhiên cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-04-text-classification.html">2. Phân loại text</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-07-nlp-api.html">3. Sử dụng API từ các dịch vụ đám mây</a></li>
<li class="toctree-l1"><a class="reference internal" href="p06-10-ocr-tesseract.html">4. OCR với <code class="docutils literal notranslate"><span class="pre">tesseract</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Các phương pháp khác</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p07-01-survival-analysis.html">1. Survival analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-02-causal-impact.html">2. Causal Impact</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-03-collaborative-filtering.html">3. Collaborative Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-07-spatial-data.html">4. Spatial data</a></li>
<li class="toctree-l1"><a class="reference internal" href="p07-10-shiny.html">5. Shiny apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p09-01-gioi-thieu-deep-learning.html">1. Giới thiệu cơ bản về Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-02-co-ban-kien-thuc-toan.html">2. Kiến thức cơ bản toán học cho deep learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-03-mo-hinh-deep-learning-co-ban.html">3. Mô hình deep learning cơ bản</a></li>
<li class="toctree-l1"><a class="reference internal" href="p09-04-convolution-neural-network.html">4. Convolution neural networks</a></li>
</ul>
<p class="caption"><span class="caption-text">Cloud Computing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p10-01-cai-dat-rstudio-server-tren-amazon.html">1. Cài đặt server RStudio trên Amazon</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-03-web-service-azure.html">2. Xây dựng web service với Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="p10-09-apis-voi-plumber.html">3. API với Plumber</a></li>
</ul>
<p class="caption"><span class="caption-text">Kiến thức bổ trợ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p11-01-git.html">1. Sử dụng GIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-02-cmd.html">2. CMD và Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-03-docker.html">3. Sử dụng docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-04-apis.html">4. API</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-05-html-css.html">5. Cơ bản về HTML và CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="p11-09-other.html">6. Các tricks khác</a></li>
</ul>
<p class="caption"><span class="caption-text">Case studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p13-01-casestudy-truc-quan-hoa.html">1. Trực quan hóa dữ liệu</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Phân tích dữ liệu với R</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>6. Phân tích nhân tố ẩn (factor analysis)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/p04-06-factor-analysis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="phan-tich-nhan-to-an-factor-analysis">
<h1>6. Phân tích nhân tố ẩn (factor analysis)<a class="headerlink" href="#phan-tich-nhan-to-an-factor-analysis" title="Permalink to this headline">¶</a></h1>
<p>Phân tích nhân tố khám phá (exploratory factor analysis) là kỹ thuật
giúp làm giảm số chiều dữ liệu (giảm số biến) nhằm tìm ra các biến ẩn
(factor) đằng sau các nhóm biến ban đầu. Thực chất, phương pháp này được
sử dụng để đo các khái niệm (concept) phức tạp và đa chiều mà ta không
thể đo trực tiếp bằng 1 biến duy nhất, mà phải đo từ nhiều khía cạnh hay
các hành vi là kết quả cụ thể của khái niệm đó (quan hệ nhân-quả)</p>
<div class="section" id="so-sanh-giua-efa-va-pca">
<h2>6.1. So sánh giữa EFA và PCA<a class="headerlink" href="#so-sanh-giua-efa-va-pca" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cac-diem-giong-nhau">
<h3>6.1.1. Các điểm giống nhau<a class="headerlink" href="#cac-diem-giong-nhau" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Đều là các kỹ thuật làm giảm dữ liệu, bằng cách sử dụng sự tương quan
giữa các biến ban đầu để gộp thành các biến mới. Với k biến ban đầu,
k biến mới sẽ được tạo ra. Tuy nhiên, ta sẽ chỉ giữ lại n biến mới
với n &lt; k sao cho lượng thông tin vẫn được bảo toàn nhất có thể
(Eigen Value &gt; 1 hoặc Cumulative Variance Percentage &gt; 80 % như trong
<code class="docutils literal notranslate"><span class="pre">PCA</span></code>)</li>
</ul>
</div>
<div class="section" id="cac-diem-khac-nhau">
<h3>6.1.2. Các điểm khác nhau<a class="headerlink" href="#cac-diem-khac-nhau" title="Permalink to this headline">¶</a></h3>
<div class="section" id="thuat-toan">
<h4>6.1.2.1. Thuật toán<a class="headerlink" href="#thuat-toan" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Trong PCA, các thành phần chính (<code class="docutils literal notranslate"><span class="pre">principal</span> <span class="pre">components</span></code>) là các tổ
hợp tuyến tính của tất cả các biến ban đầu, sao cho PC1 là tổ hợp giữ
được lượng thông tin nhiều nhất, PC2 được bổ sung vuông góc với PC1
nhằm thêm các thông tin còn thiếu trong PC1 và chứa lượng thông tin
ít hơn PC1,…cứ như vậy, các PC được bổ sung sau sẽ vuông góc với các
PC trước đó và chứa lượng thông tin giảm dần. Như vây các PC <strong>phải
vuông góc</strong> với nhau, đồng nghĩa với việc các <strong>PC không được tương
quan với nhau</strong>.</li>
<li>Trong EFA, các nhân tố (factor) là tổ hợp tuyến tính của các biến ban
đầu có tương quan với nhau, sao cho mỗi nhân tố giữ lại được lượng
thông tin nhiều nhất của 1 nhóm các biến ban đầu. Khác với PCA, các
factor <strong>có thể không vuông góc</strong> với nhau, đồng nghĩa với việc các
<strong>factor có thể tương quan với nhau</strong></li>
</ul>
</div>
<div class="section" id="muc-dich-su-dung">
<h4>6.1.2.2. Mục đích sử dụng<a class="headerlink" href="#muc-dich-su-dung" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>PCA được sử dụng để đơn giản hoá tập dữ liệu, sao cho với số biến mới
tối thiểu vẫn giữ lại được tối đa lượng thông tin của tập dữ liệu ban
đầu. Do đó, các biến mới (<code class="docutils literal notranslate"><span class="pre">principal</span> <span class="pre">components</span></code>) không cần được
đặt tên</li>
</ul>
<center><p><img alt="image0" src="Images/57-fa-pcamodel.png" /></p>
</center><ul class="simple">
<li>EFA được sử dụng để tìm ra biến ẩn (latent variable, factor, concept)
đằng sau các biến đo được có tương quan với nhau (correlated observed
variables, group of items). Nói cách khác, nhóm biến ban đầu phản ánh
các khía cạnh của 1 khái niệm chung. Do đó các biến ẩn/ khái niệm
chung này phải có ý nghĩa và gọi tên được</li>
</ul>
<center><p><img alt="image1" src="Images/57-fa-efa-model.png" /></p>
</center></div>
<div class="section" id="ung-dung-trong-kinh-doanh">
<h4>6.1.2.3. Ứng dụng trong kinh doanh<a class="headerlink" href="#ung-dung-trong-kinh-doanh" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>PCA được ứng dụng để tìm ra số nhóm tối ưu cho các bài toán phân lớp
khách hàng (K-means clustering), hoặc làm giảm số biến đầu vào cho
các mô hình dự báo</li>
<li>EFA thường được sử dụng trong trong lĩnh vực marketing và nghiên cứu
thị trường, xây dựng các bộ câu hỏi cho survey để đánh giá nhận thức/
hành vi của khách hàng về sản phẩm/ dịch vụ như: mức độ hài lòng với
sản phẩm, sự trung thành với nhãn hiệu, lý do khách hàng mua sản
phẩm…Sau đó các biến mới cũng có thể được sử dụng làm biến đầu vào
cho các mô hình</li>
</ul>
<center><p><img alt="image2" src="Images/57-fa-survey.jpg" /></p>
</center></div>
</div>
</div>
<div class="section" id="cac-buoc-thuc-hien">
<h2>6.2. Các bước thực hiện<a class="headerlink" href="#cac-buoc-thuc-hien" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kiem-dinh-xem-tap-du-lieu-co-du-dieu-kien-cho-factor-analysis-khong">
<h3>6.2.1. Kiểm định xem tập dữ liệu có đủ điều kiện cho factor analysis không<a class="headerlink" href="#kiem-dinh-xem-tap-du-lieu-co-du-dieu-kien-cho-factor-analysis-khong" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Số quan sát <strong>tối thiểu là 50</strong></li>
<li>KMO test (0-&gt;1) kiểm tra mức độ tương quan của các biến ban đầu.
<strong>KMO result &gt; 0.5</strong> là chấp nhận được</li>
</ul>
<center><p><img alt="image3" src="Images/57-fa-kmo.jpg" /></p>
</center></div>
<div class="section" id="chon-so-factor">
<h3>6.2.2. Chọn số factor<a class="headerlink" href="#chon-so-factor" title="Permalink to this headline">¶</a></h3>
<p>Cân nhắc các điểm sau:</p>
<ul class="simple">
<li>Ý nghĩa kinh doanh</li>
<li>Eigen value &gt; 1</li>
<li>Scree plot tại điểm thay đổi độ dốc</li>
</ul>
</div>
<div class="section" id="thuc-hien-factor-analysis">
<h3>6.2.3. Thực hiện factor analysis<a class="headerlink" href="#thuc-hien-factor-analysis" title="Permalink to this headline">¶</a></h3>
<p>Trong đó chọn 1 trong 2 phương pháp xoay vector sau:</p>
<ul class="simple">
<li>Chọn Orthogonal (rotate = “varimax”) khi ta cho rằng các factors
không có tương quan với nhau</li>
<li>Chọn Oblique (rotate = “oblimin”) khi ta cho rằng các factors có
tương quan với nhau (chủ yếu chọn phương pháp này)</li>
</ul>
<center><p><img alt="image4" src="Images/57-fa-rotation.jpg" /></p>
</center><p>=&gt; Xem loadings (correlation value) xem có hiện tượng 1 biến ban đầu
tương quan mạnh với nhiều hơn 1 factor không (high multi-loadings)</p>
</div>
<div class="section" id="danh-gia-do-tin-cay-va-do-chinh-xac-cua-mo-hinh">
<h3>6.2.4. Đánh giá độ tin cậy và độ chính xác của mô hình<a class="headerlink" href="#danh-gia-do-tin-cay-va-do-chinh-xac-cua-mo-hinh" title="Permalink to this headline">¶</a></h3>
<p>Ta mong đợi các biến đo được phải tương quan với nhau theo từng nhóm,
đồng nghĩa chúng đo cùng 1 khái niệm (độ tin cậy, reliability) và phải
đo đúng khái niệm ta cần (độ chính xác, validity)</p>
<p>Độ tin cậy được đo bằng chỉ số Cronbach’s alpha. <strong>(:raw-latex:`alpha`)
&gt;= 0.3</strong> là pass. Ta có thể cân nhắc loại bỏ 1 vài biến ban đầu không có
tương quan với các biến khác, tuy nhiên phải đánh đổi bằng thông tin bị
mất đi</p>
<p>Độ chính xác được đo theo 2 tiêu chí:</p>
<ul class="simple">
<li>Convergent validity: Chỉ số AVE (Average Variance Extracted) của các
factor phải &gt; 0.5 đồng nghĩa với việc các items giải thích được ít
nhất 50% độ biến thiên của factor đó</li>
</ul>
<div class="math notranslate">
\[AVE=\frac{\sum Factor.loadings^2}{No.of.items}\]</div>
<ul class="simple">
<li>Discriminant validity: Chỉ số AVE của từng factor phải &gt; Shared
variance giữa các factor, đồng nghĩa với việc các factor phải tương
quan mạnh hơn với các items đo chính factor đó chứ không tương quan
nhiều với các items đo các factor khác</li>
</ul>
<div class="math notranslate">
\[Shared.variance=Correlation.between.factors^2\]</div>
<p><strong>Ví dụ</strong>:</p>
<center><p><img alt="image5" src="Images/57-fa-validity.jpg" /></p>
</center><ul class="simple">
<li>Reliability test: Với cả 2 factor, AVE đều &gt; 0.5 =&gt; nhóm các item
(x1,x2,x3) và (x4,x5,x6) đều giải thích được trên 50% độ biến thiên
của 2 factor tương ứng =&gt; good</li>
<li>Validity test: Xét 3 trường hợp của Shared Variance<ul>
<li>Shared Variance = 0.49 (&lt; 0.72 và &lt; 0.66) =&gt; good</li>
<li>Shared Variance = 0.64 (&lt; 0.72 và &lt; 0.66) =&gt; pass</li>
<li>Shared Variance = 0.90 (&gt; 0.72 và &gt; 0.66) =&gt; fail</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="dat-ten-cho-cac-factor">
<h3>6.2.5. Đặt tên cho các factor<a class="headerlink" href="#dat-ten-cho-cac-factor" title="Permalink to this headline">¶</a></h3>
<p>Tùy theo kết quả loadings các nhóm biến để đặt tên cho biến ẩn (khái
niệm) sao cho biến ẩn có ý nghĩa tổng hợp nhất</p>
<p><strong>Lưu ý</strong>: Các bước 2 -&gt; 4 có thể phải thực hiện nhiều lần để có kết quả
ưng ý</p>
</div>
</div>
<div class="section" id="thuc-hanh-trong-r">
<h2>6.3. Thực hành trong R<a class="headerlink" href="#thuc-hanh-trong-r" title="Permalink to this headline">¶</a></h2>
<p>Sử dụng tập dữ liệu là kết quả phản hồi survey của 90 KH cho 14 tiêu chí
họ ưu tiên khi chọn mua ô tô (bao gồm giá, tính an toàn, tiết kiệm nhiên
liệu, dịch vụ hậu mãi…). Survey được thiết kế dưới dạng thang đo Likert
với 5 lựa chọn (5-point Likert scale) từ “Very low” (tương ứng với 1)
đến “Very high” (tương ứng với 5)</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">psych</span><span class="p">)</span>
<span class="nf">library</span><span class="p">(</span><span class="n">GPArotation</span><span class="p">)</span>

<span class="nf">load</span><span class="p">(</span><span class="s">&quot;data/efa-df.Rda&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">&lt;-</span> <span class="n">efa.df</span>
<span class="nf">rm</span><span class="p">(</span><span class="n">efa.df</span><span class="p">)</span>
<span class="n">df</span> <span class="o">%&gt;%</span> <span class="n">head</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##   Price Safety Exterior_Looks Space_comfort Technology After_Sales_Service</span>
<span class="c1">## 1     4      4              5             4          3                   4</span>
<span class="c1">## 2     3      5              3             3          4                   4</span>
<span class="c1">## 3     4      4              3             4          5                   5</span>
<span class="c1">## 4     4      4              4             3          3                   4</span>
<span class="c1">## 5     5      5              4             4          5                   4</span>
<span class="c1">## 6     4      4              5             3          4                   5</span>
<span class="c1">##   Resale_Value Fuel_Type Fuel_Efficiency Color Maintenance Test_drive</span>
<span class="c1">## 1            5         4               4     2           4          2</span>
<span class="c1">## 2            3         4               3     4           3          2</span>
<span class="c1">## 3            5         4               5     4           5          4</span>
<span class="c1">## 4            5         5               4     4           4          2</span>
<span class="c1">## 5            5         3               4     5           5          5</span>
<span class="c1">## 6            3         4               3     2           3          2</span>
<span class="c1">##   Product_reviews Testimonials</span>
<span class="c1">## 1               4            3</span>
<span class="c1">## 2               2            2</span>
<span class="c1">## 3               4            3</span>
<span class="c1">## 4               5            3</span>
<span class="c1">## 5               5            2</span>
<span class="c1">## 6               2            3</span>
</pre></div>
</div>
<ul class="simple">
<li>Bước 1: Tập dữ liệu có 90 quan sát, đủ lớn cho phân tích. Kiểm tra
KMO test = 0.61 chỉ ở mức dưới trung bình nhưng đủ cho phân tích</li>
</ul>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">KMO</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Kaiser-Meyer-Olkin factor adequacy</span>
<span class="c1">## Call: KMO(r = df)</span>
<span class="c1">## Overall MSA =  0.61</span>
<span class="c1">## MSA for each item =</span>
<span class="c1">##               Price              Safety      Exterior_Looks</span>
<span class="c1">##                0.72                0.47                0.55</span>
<span class="c1">##       Space_comfort          Technology After_Sales_Service</span>
<span class="c1">##                0.61                0.65                0.62</span>
<span class="c1">##        Resale_Value           Fuel_Type     Fuel_Efficiency</span>
<span class="c1">##                0.63                0.68                0.62</span>
<span class="c1">##               Color         Maintenance          Test_drive</span>
<span class="c1">##                0.56                0.61                0.64</span>
<span class="c1">##     Product_reviews        Testimonials</span>
<span class="c1">##                0.69                0.50</span>
</pre></div>
</div>
<ul class="simple">
<li>Bước 2: Lựa chọn số factor bằng cách visualise <strong>eigen value</strong> trong
<strong>scree plot</strong></li>
</ul>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">parallel</span> <span class="o">&lt;-</span> <span class="nf">fa.parallel</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">fm</span> <span class="o">=</span> <span class="s">&#39;minres&#39;</span><span class="p">,</span> <span class="n">fa</span> <span class="o">=</span> <span class="s">&#39;fa&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image6" src="p04-06-factor-analysis_files/figure-html/unnamed-chunk-4-1.png" /></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Parallel analysis suggests that the number of factors =  5  and the number of components =  NA</span>
</pre></div>
</div>
<p>=&gt; Như vậy ta có thể chọn từ 2 hoặc 3 factor được giữ lại</p>
<ul class="simple">
<li>Bước 3: Thực hiện factor analysis với 3 factors</li>
</ul>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">three.fa</span> <span class="o">&lt;-</span> <span class="nf">fa</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">nfactors</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">rotate</span> <span class="o">=</span> <span class="s">&quot;oblimin&quot;</span><span class="p">,</span> <span class="n">fm</span><span class="o">=</span><span class="s">&quot;minres&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">three.fa</span><span class="o">$</span><span class="n">loadings</span><span class="p">,</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="m">0.3</span><span class="p">)</span> <span class="c1"># chỉ hiển thị các giá trị loading &gt; 0.3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Loadings:</span>
<span class="c1">##                     MR1    MR2    MR3</span>
<span class="c1">## Price                0.444</span>
<span class="c1">## Safety                      0.311</span>
<span class="c1">## Exterior_Looks</span>
<span class="c1">## Space_comfort               0.832</span>
<span class="c1">## Technology                  0.342</span>
<span class="c1">## After_Sales_Service         0.460</span>
<span class="c1">## Resale_Value         0.599</span>
<span class="c1">## Fuel_Type                   0.573</span>
<span class="c1">## Fuel_Efficiency      0.655</span>
<span class="c1">## Color                0.464</span>
<span class="c1">## Maintenance          0.668</span>
<span class="c1">## Test_drive                         0.328</span>
<span class="c1">## Product_reviews      0.424</span>
<span class="c1">## Testimonials                       0.742</span>
<span class="c1">##</span>
<span class="c1">##                  MR1   MR2   MR3</span>
<span class="c1">## SS loadings    2.015 1.605 0.972</span>
<span class="c1">## Proportion Var 0.144 0.115 0.069</span>
<span class="c1">## Cumulative Var 0.144 0.259 0.328</span>
</pre></div>
</div>
<p>Từ kết quả loadings của 3 factors mới, ta có thể thấy 1 số biến có tương
quan cùng lúc với cả 2 factor mới (double loading)</p>
<p>Thực hiện lại factor analysis với 4 factors =&gt; Ta thấy không còn hiện
tượng double loading nữa. Như vậy ta sử dụng model với 4 factor</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">four.fa</span> <span class="o">&lt;-</span> <span class="nf">fa</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">nfactors</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">rotate</span> <span class="o">=</span> <span class="s">&quot;oblimin&quot;</span><span class="p">,</span> <span class="n">fm</span><span class="o">=</span><span class="s">&quot;minres&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">four.fa</span><span class="o">$</span><span class="n">loadings</span><span class="p">,</span> <span class="n">cutoff</span> <span class="o">=</span> <span class="m">0.3</span><span class="p">)</span> <span class="c1"># chỉ hiện thị các giá trị loading &gt; 0.3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Loadings:</span>
<span class="c1">##                     MR1    MR2    MR4    MR3</span>
<span class="c1">## Price                0.544</span>
<span class="c1">## Safety              -0.331  0.358</span>
<span class="c1">## Exterior_Looks                    -0.548</span>
<span class="c1">## Space_comfort               0.782</span>
<span class="c1">## Technology                  0.358</span>
<span class="c1">## After_Sales_Service         0.537</span>
<span class="c1">## Resale_Value         0.729</span>
<span class="c1">## Fuel_Type                   0.575</span>
<span class="c1">## Fuel_Efficiency      0.434         0.308</span>
<span class="c1">## Color                              0.731</span>
<span class="c1">## Maintenance          0.562</span>
<span class="c1">## Test_drive                                0.365</span>
<span class="c1">## Product_reviews      0.345                0.364</span>
<span class="c1">## Testimonials                              0.685</span>
<span class="c1">##</span>
<span class="c1">##                  MR1   MR2   MR4   MR3</span>
<span class="c1">## SS loadings    1.639 1.637 1.053 0.968</span>
<span class="c1">## Proportion Var 0.117 0.117 0.075 0.069</span>
<span class="c1">## Cumulative Var 0.117 0.234 0.309 0.378</span>
</pre></div>
</div>
<ul class="simple">
<li>Bước 4: Đánh giá độ tin cậy và chính xác của mô hình</li>
</ul>
<p>(<a href="#id1"><span class="problematic" id="id2">:raw-latex:`\alpha`</span></a>) = 0.61 cho thấy mô hình đáng tin cậy. Xem thêm
bảng Reliability if an item is dropped ta thấy nếu loại bỏ các biến
Safety, Exterior_Looks, Testimonials có thể cải thiện
(<a href="#id3"><span class="problematic" id="id4">:raw-latex:`\alpha`</span></a>) tuy nhiên rất ít =&gt; Ta chọn giữ lại tất cả các
biến này để không bị mất thông tin</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">alpha</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">check.keys</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Reliability analysis</span>
<span class="c1">## Call: alpha(x = df, check.keys = TRUE)</span>
<span class="c1">##</span>
<span class="c1">##   raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd</span>
<span class="c1">##       0.61      0.62    0.71       0.1 1.6 0.059  3.7 0.34</span>
<span class="c1">##</span>
<span class="c1">##  lower alpha upper     95% confidence boundaries</span>
<span class="c1">## 0.49 0.61 0.73</span>
<span class="c1">##</span>
<span class="c1">##  Reliability if an item is dropped:</span>
<span class="c1">##                     raw_alpha std.alpha G6(smc) average_r S/N alpha se</span>
<span class="c1">## Price                    0.59      0.59    0.69     0.101 1.5    0.063</span>
<span class="c1">## Safety-                  0.62      0.64    0.72     0.120 1.8    0.059</span>
<span class="c1">## Exterior_Looks-          0.63      0.65    0.72     0.123 1.8    0.056</span>
<span class="c1">## Space_comfort            0.60      0.61    0.68     0.106 1.5    0.061</span>
<span class="c1">## Technology               0.60      0.61    0.70     0.107 1.6    0.060</span>
<span class="c1">## After_Sales_Service      0.58      0.59    0.68     0.099 1.4    0.064</span>
<span class="c1">## Resale_Value             0.61      0.61    0.69     0.107 1.6    0.059</span>
<span class="c1">## Fuel_Type                0.60      0.61    0.70     0.108 1.6    0.060</span>
<span class="c1">## Fuel_Efficiency          0.53      0.54    0.64     0.084 1.2    0.072</span>
<span class="c1">## Color                    0.57      0.59    0.68     0.099 1.4    0.065</span>
<span class="c1">## Maintenance              0.55      0.56    0.65     0.090 1.3    0.069</span>
<span class="c1">## Test_drive               0.60      0.61    0.70     0.106 1.5    0.061</span>
<span class="c1">## Product_reviews          0.56      0.57    0.67     0.094 1.3    0.067</span>
<span class="c1">## Testimonials             0.62      0.63    0.71     0.116 1.7    0.058</span>
<span class="c1">##</span>
<span class="c1">##  Item statistics</span>
<span class="c1">##                      n raw.r std.r r.cor  r.drop mean   sd</span>
<span class="c1">## Price               90  0.41  0.45 0.382  0.3032  4.2 0.59</span>
<span class="c1">## Safety-             90  0.19  0.20 0.073  0.0556  1.8 0.64</span>
<span class="c1">## Exterior_Looks-     90  0.16  0.16 0.022 -0.0069  2.2 0.82</span>
<span class="c1">## Space_comfort       90  0.32  0.38 0.342  0.1872  4.0 0.65</span>
<span class="c1">## Technology          90  0.35  0.37 0.269  0.1735  4.2 0.87</span>
<span class="c1">## After_Sales_Service 90  0.45  0.48 0.433  0.3265  4.4 0.65</span>
<span class="c1">## Resale_Value        90  0.44  0.38 0.326  0.1971  3.7 1.22</span>
<span class="c1">## Fuel_Type           90  0.30  0.36 0.280  0.1643  4.1 0.65</span>
<span class="c1">## Fuel_Efficiency     90  0.69  0.69 0.710  0.5863  3.9 0.82</span>
<span class="c1">## Color               90  0.51  0.48 0.437  0.3428  3.7 0.92</span>
<span class="c1">## Maintenance         90  0.62  0.61 0.603  0.5001  4.0 0.77</span>
<span class="c1">## Test_drive          90  0.44  0.39 0.302  0.2283  3.4 1.11</span>
<span class="c1">## Product_reviews     90  0.56  0.55 0.511  0.4073  4.1 0.89</span>
<span class="c1">## Testimonials        90  0.26  0.25 0.149  0.0839  3.9 0.87</span>
<span class="c1">##</span>
<span class="c1">## Non missing response frequency for each item</span>
<span class="c1">##                        1    2    3    4    5 miss</span>
<span class="c1">## Price               0.00 0.00 0.10 0.63 0.27    0</span>
<span class="c1">## Safety              0.00 0.00 0.12 0.56 0.32    0</span>
<span class="c1">## Exterior_Looks      0.01 0.02 0.30 0.47 0.20    0</span>
<span class="c1">## Space_comfort       0.00 0.01 0.18 0.61 0.20    0</span>
<span class="c1">## Technology          0.01 0.03 0.14 0.41 0.40    0</span>
<span class="c1">## After_Sales_Service 0.00 0.01 0.06 0.44 0.49    0</span>
<span class="c1">## Resale_Value        0.06 0.11 0.28 0.21 0.34    0</span>
<span class="c1">## Fuel_Type           0.00 0.00 0.17 0.58 0.26    0</span>
<span class="c1">## Fuel_Efficiency     0.01 0.03 0.24 0.50 0.21    0</span>
<span class="c1">## Color               0.02 0.08 0.22 0.50 0.18    0</span>
<span class="c1">## Maintenance         0.00 0.01 0.27 0.44 0.28    0</span>
<span class="c1">## Test_drive          0.02 0.23 0.22 0.33 0.19    0</span>
<span class="c1">## Product_reviews     0.00 0.08 0.10 0.43 0.39    0</span>
<span class="c1">## Testimonials        0.01 0.04 0.24 0.46 0.24    0</span>
</pre></div>
</div>
<p>Có thể tính toán thêm AVE và Shared Variance cho validity test</p>
<ul class="simple">
<li>Bước 5: Đặt tên cho các biến ẩn</li>
</ul>
<center><p><img alt="image7" src="Images/57-fa-naming.jpg" /></p>
</center></div>
<div class="section" id="tai-lieu-tham-khao">
<h2>6.4. Tài liệu tham khảo<a class="headerlink" href="#tai-lieu-tham-khao" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><a class="reference external" href="http://www.theanalysisfactor.com/the-fundamental-difference-between-principal-component-analysis-and-factor-analysis/">http://www.theanalysisfactor.com/the-fundamental-difference-between-principal-component-analysis-and-factor-analysis/</a></li>
<li><a class="reference external" href="https://www.promptcloud.com/blog/exploratory-factor-analysis-in-r/">https://www.promptcloud.com/blog/exploratory-factor-analysis-in-r/</a></li>
<li><a class="reference external" href="http://minato.sip21c.org/swtips/factor-in-R.pdf">http://minato.sip21c.org/swtips/factor-in-R.pdf</a></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="p05-01-chuoi-thoi-gian.html" class="btn btn-neutral float-right" title="1. Giới thiệu về chuỗi thời gian" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="p04-05-pca.html" class="btn btn-neutral float-left" title="5. Principal component analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Anh Hoang Duc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>