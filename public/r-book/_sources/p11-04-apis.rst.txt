API
===

Giới thiệu
----------

APIs (Application Programing Interfaces) là cách thức luân chuyển thông
tin, yêu cầu giữa người dùng với server và ngược lại. API có thể hiểu
đơn giản là 1 phần mềm mini được thực hiện trên 1 máy tính khác (so với
máy tính ta đang sử dụng). Phần này giới thiệu 1 số những điểm rất cơ
bản để ``data scientist`` có thể sử dụng và làm việc với ``api``.

Khi các phần mềm làm việc với nhau, có 3 cấu phần chính:

-  ``server``: Máy tính thực hiện (run) APIs
-  ``API``
-  ``Client``: Phần mềm/máy tính trao đổi thông tin với server thông qua
   APIs

.. raw:: html

   <center>

|image0|

.. raw:: html

   </center>

Protocol
--------

Tập hợp các quy tắc mà các máy tính có thể trao đổi thông tin/service
với nhau được gọi là ``protocol``. Protocol rất đa dạng, có thể là
Blootooth hay HTTP. Trong ``protocol`` có hai cấu phần:

-  ``Request``: Client truyền thông tin cho server
-  ``Response``: Server trả kết quả cho client

``Request`` bao gồm 4 cấu phần:

-  ``URL``: Xác định nguồn lực (locator) của 1 service
-  ``Method``: Khai báo cho server biết cần phải làm gì. Có 4 loại
   methods chính:

   -  ``get``: Yêu cầu server nhận dữ liệu
   -  ``post``: Yêu cầu server tạo dữ liệu (thông qua tính toán, query,
      …). Dữ liệu có thể là ảnh, text, số, bảng, …
   -  ``put``: Yêu cầu server update dữ liệu
   -  ``delete``: Yêu cầu server xóa dữ liệu

-  ``Headers``: Chứa metadata cho các request từ client
-  ``Body``: Chứa dữ liệu mà client muốn truyền cho server

Khi ``server`` thực hiện yêu cầu từ client sẽ trả ra kết quả. Kết quả
trả ra chứa ``status code``, là một chuỗi 3 ký tự, thông báo về trạng
thái của request;

-  ``200``: success
-  ``404``: Không tìm thấy

Data trong API
--------------

Data trong API thường được dùng với 2 dạng:

-  ``json``
-  ``xml``

.. code:: r

   # JSON
   {
       "crust": "original",
       "toppings": ["cheese", "pepperoni", "garlic"],
       "status": "cooking"
   }

   # XML

   <order>
       <crust>original</crust>
       <toppings>
           <topping>cheese</topping>
           <topping>pepperoni</topping>
           <topping>garlic</topping>
       </toppings>
       <status>cooking</status>
   </order>

Tài liệu tham khảo
------------------

-  API

.. |image0| image:: Images/api-01.png
   :width: 60.0%
