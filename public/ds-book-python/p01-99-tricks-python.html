<!DOCTYPE html>
<html class="writer-html5" lang="vn" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>13. Các mẹo trong Python &mdash; Phân tích dữ liệu với Python 2019 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/nbsphinx-code-cells.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=1ea3fed6"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Giới thiệu cơ bản về Scikit learn" href="p02-01-sklearn.html" />
    <link rel="prev" title="12. So sánh R với Python cơ bản" href="p01-19-so-sanh-python-r.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Phân tích dữ liệu với Python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Python cơ bản</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="p01-01-gioi-thieu-python.html">1. Giới thiệu về Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-02-jupyter-lab.html">2. Jupyter lab</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-03-cau-truc-du-lieu-python.html">3. Các cấu trúc cơ bản trong Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-03-numpy.html">4. Numpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-05-pandas.html">5. Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-06-datetime.html">6. Dữ liệu thời gian trong Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-07-lam-viec-voi-text.html">7. Biến đổi dữ liệu text trong python</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-08-matplotlib.html">8. Trực quan hóa với Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-09-seaborn.html">9. Trực quan hóa với Seaborn</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-10-ngu-phap-bieu-do.html">10. Ngữ pháp của biểu đồ</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-13-lam-viec-voi-files.html">11. Làm việc với các file trong máy tính</a></li>
<li class="toctree-l1"><a class="reference internal" href="p01-19-so-sanh-python-r.html">12. So sánh R với Python cơ bản</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">13. Các mẹo trong Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Câu-lệnh-trong-điều-kiện">13.1. Câu lệnh trong điều kiện</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Any-vs-All">13.2. Any vs All</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Debug">13.3. Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Kiểm-tra-thời-gian-chạy-code">13.4. Kiểm tra thời gian chạy code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Profiling-với-memory">13.5. Profiling với memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Phân-biệt-các-dấu-gạch-dưới-trong-Python">13.6. Phân biệt các dấu gạch dưới trong Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Lưu-giá-trị-từ-trước">13.6.1. Lưu giá trị từ trước</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Bỏ-qua-giá-trị-không-cần-thiết">13.6.2. Bỏ qua giá trị không cần thiết</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Sử-dụng-trong-loop">13.6.3. Sử dụng trong loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Phân-cách-hàng-nghìn">13.6.4. Phân cách hàng nghìn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Đặt-tên-có-chứa-_">13.6.5. Đặt tên có chứa <code class="docutils literal notranslate"><span class="pre">_</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Một-dấu-đằng-trước">13.6.5.1. Một dấu đằng trước</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Gạch-dưới-cuối-tên">13.6.5.2. Gạch dưới cuối tên</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Hai-gạch-dưới-đầu-tên">13.6.5.3. Hai gạch dưới đầu tên</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#List-object-trong-môi-trường-làm-việc">13.7. List object trong môi trường làm việc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Hiển-thị-nhiều-kết-quả-trong-1-cell">13.8. Hiển thị nhiều kết quả trong 1 cell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Assign-string-thành-object">13.9. Assign string thành object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Evaluation">13.10. Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Xóa-toàn-bộ-environment">13.11. Xóa toàn bộ environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Lưu-code-từ-cell-thành-file">13.12. Lưu code từ cell thành file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Mở-một-loạt-file-text-và-sửa-nội-dung">13.13. Mở một loạt file text và sửa nội dung</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Chạy-file-python-từ-bat">13.14. Chạy file python từ bat</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Auto-format">13.15. Auto format</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Machine learning với sklearn</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p02-01-sklearn.html">1. Giới thiệu cơ bản về Scikit learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-02-sklearn-advanced.html">2. sklearn nâng cao</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-03-xgboost.html">3. Xgboost với sklearn</a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-07-machine-learning-h2o.html">4. Machine learning với <code class="docutils literal notranslate"><span class="pre">H2O</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="p02-20-api-flask.html">5. Xây dựng API dự báo với Flask</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Lập trình trong Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p06-01-lap-trinh-doi-tuong-python.html">1. Lập trình hướng - đối tượng với Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Xây dựng Python package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p07-01-functions-in-python.html">1. Viết hàm trong Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Case studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="p09-01-data-exploration-case-study.html">1. Ví dụ phân tích với pandas và matplotlib</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Phân tích dữ liệu với Python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">13. </span>Các mẹo trong Python</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/p01-99-tricks-python.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Các-mẹo-trong-Python">
<h1><span class="section-number">13. </span>Các mẹo trong Python<a class="headerlink" href="#Các-mẹo-trong-Python" title="Link to this heading"></a></h1>
<section id="Câu-lệnh-trong-điều-kiện">
<h2><span class="section-number">13.1. </span>Câu lệnh trong điều kiện<a class="headerlink" href="#Câu-lệnh-trong-điều-kiện" title="Link to this heading"></a></h2>
<p>Trong python, các câu lệnh điều kiện if…else có thể viết ngắn gọn và đơn giản như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t</span>
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Do</span>
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Ví dụ 2</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dont</span>
<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">contents</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
  <span class="k">if</span> <span class="n">contents</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">pouch_contents</span> <span class="o">=</span> <span class="n">contents</span>
<span class="c1"># Do</span>
<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">contents</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">pouch_contents</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">contents</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">contents</span>
</pre></div>
</div>
</section>
<section id="Any-vs-All">
<h2><span class="section-number">13.2. </span>Any vs All<a class="headerlink" href="#Any-vs-All" title="Link to this heading"></a></h2>
<p>Hàm <code class="docutils literal notranslate"><span class="pre">any</span></code> trong trong python cho phép trả ra kết quả nếu 1 trong các điều kiện là <code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">any</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
<p>Khác với <code class="docutils literal notranslate"><span class="pre">any</span></code>, <code class="docutils literal notranslate"><span class="pre">all</span></code> sẽ kiểm tra tất cả điều kiện</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">all</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
False
</pre></div></div>
</div>
</section>
<section id="Debug">
<h2><span class="section-number">13.3. </span>Debug<a class="headerlink" href="#Debug" title="Link to this heading"></a></h2>
<p>Sử dụng <code class="docutils literal notranslate"><span class="pre">%xmode</span></code> hoặc <code class="docutils literal notranslate"><span class="pre">%debug</span></code> để tìm lỗi. Xem ví dụ dưới đây</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">func_1</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2.6666666666666665
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">func_1</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ZeroDivisionError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[5], line 2</span>
<span class="ansi-green-fg">      1</span> <span style="color: rgb(95,135,135)">#| eval: false</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span> <span class="ansi-yellow-bg">func_1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">7</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">0</span><span class="ansi-yellow-bg">)</span>

Cell <span class="ansi-green-intense-fg ansi-bold">In[3], line 2</span>, in <span class="ansi-cyan-fg">func_1</span><span class="ansi-blue-intense-fg ansi-bold">(a, b)</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span> <span style="color: rgb(0,0,255)">func_1</span>(a,b):
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span>(<span class="ansi-yellow-bg">a</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">/</span><span class="ansi-yellow-bg">b</span>)

<span class="ansi-red-intense-fg ansi-bold">ZeroDivisionError</span>: division by zero
</pre></div></div>
</div>
<p>Sử dụng <code class="docutils literal notranslate"><span class="pre">%xmode</span></code> cho phép hiển thị thêm các thông tin lỗi trong <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">notebook</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">xmode</span> Verbose
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Exception reporting mode: Verbose
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">func_1</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ZeroDivisionError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[7], line 2</span>
<span class="ansi-green-fg">      1</span> <span style="color: rgb(95,135,135)">#| eval: false</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span> <span class="ansi-yellow-bg">func_1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">8</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">0</span><span class="ansi-yellow-bg">)</span>

Cell <span class="ansi-green-intense-fg ansi-bold">In[3], line 2</span>, in <span class="ansi-cyan-fg">func_1</span><span class="ansi-blue-intense-fg ansi-bold">(a=8, b=0)</span>
<span class="ansi-green-fg">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span> <span style="color: rgb(0,0,255)">func_1</span>(a,b):
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span>(<span class="ansi-yellow-bg">a</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">/</span><span class="ansi-yellow-bg">b</span>)
        a <span class="ansi-blue-intense-fg ansi-bold">= 8</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>b <span class="ansi-blue-intense-fg ansi-bold">= 0</span>

<span class="ansi-red-intense-fg ansi-bold">ZeroDivisionError</span>: division by zero
</pre></div></div>
</div>
</section>
<section id="Kiểm-tra-thời-gian-chạy-code">
<h2><span class="section-number">13.4. </span>Kiểm tra thời gian chạy code<a class="headerlink" href="#Kiểm-tra-thời-gian-chạy-code" title="Link to this heading"></a></h2>
<p>Python cho phép sử dụng profiling. Hai <code class="docutils literal notranslate"><span class="pre">magic</span> <span class="pre">command</span></code> hay dùng nhất là <code class="docutils literal notranslate"><span class="pre">%time</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">%timeit</span></code>. <code class="docutils literal notranslate"><span class="pre">%timeit</span></code> cho phép hiển thị thông tin chính xác với nhiều thông số hơn.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">time</span> sum(range(100))
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CPU times: total: 0 ns
Wall time: 0 ns
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
4950
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">timeit</span> sum(range(100))
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
2.33 µs ± 81.6 ns per loop (mean ± std. dev. of 7 runs, 100,000 loops each)
</pre></div></div>
</div>
</section>
<section id="Profiling-với-memory">
<h2><span class="section-number">13.5. </span>Profiling với memory<a class="headerlink" href="#Profiling-với-memory" title="Link to this heading"></a></h2>
<p>cài đặt <code class="docutils literal notranslate"><span class="pre">memory_profiler</span></code> trên với <code class="docutils literal notranslate"><span class="pre">anaconda</span> <span class="pre">prompt</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">memory_profiler</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">load_ext</span> memory_profiler
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">ModuleNotFoundError</span>                       Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[12], line 2</span>
<span class="ansi-green-fg">      1</span> <span style="color: rgb(95,135,135)">#| eval: false</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span> <span class="ansi-yellow-bg">get_ipython</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run_line_magic</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">load_ext</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">memory_profiler</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#39;</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-intense-fg ansi-bold">~\AppData\Roaming\Python\Python311\site-packages\IPython\core\interactiveshell.py:2417</span>, in <span class="ansi-cyan-fg">InteractiveShell.run_line_magic</span><span class="ansi-blue-intense-fg ansi-bold">(self=&lt;ipykernel.zmqshell.ZMQInteractiveShell object&gt;, magic_name=&#39;load_ext&#39;, line=&#39;memory_profiler&#39;, _stack_depth=1)</span>
<span class="ansi-green-fg">   2415</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">local_ns</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>get_local_scope(stack_depth)
<span class="ansi-green-fg">   2416</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>builtin_trap:
<span class="ansi-green-intense-fg ansi-bold">-&gt; 2417</span>     result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">fn</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span>
        fn <span class="ansi-blue-intense-fg ansi-bold">= &lt;bound method ExtensionMagics.load_ext of &lt;IPython.core.magics.extension.ExtensionMagics object at 0x000001FBC9FD1DD0&gt;&gt;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>args <span class="ansi-blue-intense-fg ansi-bold">= [&#39;memory_profiler&#39;]</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>kwargs <span class="ansi-blue-intense-fg ansi-bold">= {}</span>
<span class="ansi-green-fg">   2419</span> <span style="color: rgb(95,135,135)"># The code below prevents the output from being displayed</span>
<span class="ansi-green-fg">   2420</span> <span style="color: rgb(95,135,135)"># when using magics with decodator @output_can_be_silenced</span>
<span class="ansi-green-fg">   2421</span> <span style="color: rgb(95,135,135)"># when the last Python token in the expression is a &#39;;&#39;.</span>
<span class="ansi-green-fg">   2422</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">getattr</span>(fn, magic<span style="color: rgb(98,98,98)">.</span>MAGIC_OUTPUT_CAN_BE_SILENCED, <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>):

File <span class="ansi-green-intense-fg ansi-bold">~\AppData\Roaming\Python\Python311\site-packages\IPython\core\magics\extension.py:33</span>, in <span class="ansi-cyan-fg">ExtensionMagics.load_ext</span><span class="ansi-blue-intense-fg ansi-bold">(self=&lt;IPython.core.magics.extension.ExtensionMagics object&gt;, module_str=&#39;memory_profiler&#39;)</span>
<span class="ansi-green-fg">     31</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> module_str:
<span class="ansi-green-fg">     32</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> UsageError(<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Missing module name.</span><span style="color: rgb(175,0,0)">&#39;</span>)
<span class="ansi-green-intense-fg ansi-bold">---&gt; 33</span> res <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">shell</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">extension_manager</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">load_extension</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">module_str</span><span class="ansi-yellow-bg">)</span>
        module_str <span class="ansi-blue-intense-fg ansi-bold">= &#39;memory_profiler&#39;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>self.shell <span class="ansi-blue-intense-fg ansi-bold">= &lt;ipykernel.zmqshell.ZMQInteractiveShell object at 0x000001FBCA4E9210&gt;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>self <span class="ansi-blue-intense-fg ansi-bold">= &lt;IPython.core.magics.extension.ExtensionMagics object at 0x000001FBC9FD1DD0&gt;</span>
<span class="ansi-green-fg">     35</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> res <span style="color: rgb(98,98,98)">==</span> <span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">already loaded</span><span style="color: rgb(175,0,0)">&#39;</span>:
<span class="ansi-green-fg">     36</span>     <span style="color: rgb(0,135,0)">print</span>(<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">The </span><span class="ansi-bold" style="color: rgb(175,95,135)">%s</span><span style="color: rgb(175,0,0)"> extension is already loaded. To reload it, use:</span><span style="color: rgb(175,0,0)">&#34;</span> <span style="color: rgb(98,98,98)">%</span> module_str)

File <span class="ansi-green-intense-fg ansi-bold">~\AppData\Roaming\Python\Python311\site-packages\IPython\core\extensions.py:76</span>, in <span class="ansi-cyan-fg">ExtensionManager.load_extension</span><span class="ansi-blue-intense-fg ansi-bold">(self=&lt;IPython.core.extensions.ExtensionManager object&gt;, module_str=&#39;memory_profiler&#39;)</span>
<span class="ansi-green-fg">     69</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Load an IPython extension by its module name.</span>
<span class="ansi-green-fg">     70</span>
<span class="ansi-green-fg">     71</span> <span style="color: rgb(175,0,0)">Returns the string &#34;already loaded&#34; if the extension is already loaded,</span>
<span class="ansi-green-fg">     72</span> <span style="color: rgb(175,0,0)">&#34;no load function&#34; if the module doesn&#39;t have a load_ipython_extension</span>
<span class="ansi-green-fg">     73</span> <span style="color: rgb(175,0,0)">function, or None if it succeeded.</span>
<span class="ansi-green-fg">     74</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-fg">     75</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">---&gt; 76</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_load_extension</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">module_str</span><span class="ansi-yellow-bg">)</span>
        module_str <span class="ansi-blue-intense-fg ansi-bold">= &#39;memory_profiler&#39;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>self <span class="ansi-blue-intense-fg ansi-bold">= &lt;IPython.core.extensions.ExtensionManager object at 0x000001FBCA4BC7D0&gt;</span>
<span class="ansi-green-fg">     77</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ModuleNotFoundError</span>:
<span class="ansi-green-fg">     78</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> module_str <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> BUILTINS_EXTS:

File <span class="ansi-green-intense-fg ansi-bold">~\AppData\Roaming\Python\Python311\site-packages\IPython\core\extensions.py:91</span>, in <span class="ansi-cyan-fg">ExtensionManager._load_extension</span><span class="ansi-blue-intense-fg ansi-bold">(self=&lt;IPython.core.extensions.ExtensionManager object&gt;, module_str=&#39;memory_profiler&#39;)</span>
<span class="ansi-green-fg">     89</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>shell<span style="color: rgb(98,98,98)">.</span>builtin_trap:
<span class="ansi-green-fg">     90</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> module_str <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> sys<span style="color: rgb(98,98,98)">.</span>modules:
<span class="ansi-green-intense-fg ansi-bold">---&gt; 91</span>         mod <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">import_module</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">module_str</span><span class="ansi-yellow-bg">)</span>
        module_str <span class="ansi-blue-intense-fg ansi-bold">= &#39;memory_profiler&#39;</span>
<span class="ansi-green-fg">     92</span>     mod <span style="color: rgb(98,98,98)">=</span> sys<span style="color: rgb(98,98,98)">.</span>modules[module_str]
<span class="ansi-green-fg">     93</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_call_load_ipython_extension(mod):

File <span class="ansi-green-intense-fg ansi-bold">~\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py:126</span>, in <span class="ansi-cyan-fg">import_module</span><span class="ansi-blue-intense-fg ansi-bold">(name=&#39;memory_profiler&#39;, package=None)</span>
<span class="ansi-green-fg">    124</span>             <span class="ansi-bold" style="color: rgb(0,135,0)">break</span>
<span class="ansi-green-fg">    125</span>         level <span style="color: rgb(98,98,98)">+</span><span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">1</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 126</span> <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">_bootstrap</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_gcd_import</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">level</span><span class="ansi-yellow-bg">:</span><span class="ansi-yellow-bg">]</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">package</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">level</span><span class="ansi-yellow-bg">)</span>
        level <span class="ansi-blue-intense-fg ansi-bold">= 0</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>name <span class="ansi-blue-intense-fg ansi-bold">= &#39;memory_profiler&#39;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>name[level:] <span class="ansi-blue-intense-fg ansi-bold">= &#39;memory_profiler&#39;</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>package <span class="ansi-blue-intense-fg ansi-bold">= None</span><span class="ansi-blue-intense-fg ansi-bold">
        </span>_bootstrap <span class="ansi-blue-intense-fg ansi-bold">= &lt;module &#39;_frozen_importlib&#39; (frozen)&gt;</span>

File <span class="ansi-green-intense-fg ansi-bold">&lt;frozen importlib._bootstrap&gt;:1204</span>, in <span class="ansi-cyan-fg">_gcd_import</span><span class="ansi-blue-intense-fg ansi-bold">(name=&#39;memory_profiler&#39;, package=None, level=0)</span>

File <span class="ansi-green-intense-fg ansi-bold">&lt;frozen importlib._bootstrap&gt;:1176</span>, in <span class="ansi-cyan-fg">_find_and_load</span><span class="ansi-blue-intense-fg ansi-bold">(name=&#39;memory_profiler&#39;, import_=&lt;function _gcd_import&gt;)</span>

File <span class="ansi-green-intense-fg ansi-bold">&lt;frozen importlib._bootstrap&gt;:1140</span>, in <span class="ansi-cyan-fg">_find_and_load_unlocked</span><span class="ansi-blue-intense-fg ansi-bold">(name=&#39;memory_profiler&#39;, import_=&lt;function _gcd_import&gt;)</span>

<span class="ansi-red-intense-fg ansi-bold">ModuleNotFoundError</span>: No module named &#39;memory_profiler&#39;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="k">def</span> <span class="nf">sum_of_lists</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
           <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
           <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
               <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="o">^</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;&gt;</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">)]</span>
               <span class="n">total</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
           <span class="k">return</span> <span class="n">total</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">memit</span> sum_of_lists(10000)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
UsageError: Line magic function `%memit` not found.
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">sum_of_lists</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
211713248
</pre></div></div>
</div>
</section>
<section id="Phân-biệt-các-dấu-gạch-dưới-trong-Python">
<h2><span class="section-number">13.6. </span>Phân biệt các dấu gạch dưới trong Python<a class="headerlink" href="#Phân-biệt-các-dấu-gạch-dưới-trong-Python" title="Link to this heading"></a></h2>
<p>Dâu gạch dưới <code class="docutils literal notranslate"><span class="pre">_</span></code> có nhiều ý nghĩa khác nhau trong Python và có nhiều cách sử dụng như sau</p>
<section id="Lưu-giá-trị-từ-trước">
<h3><span class="section-number">13.6.1. </span>Lưu giá trị từ trước<a class="headerlink" href="#Lưu-giá-trị-từ-trước" title="Link to this heading"></a></h3>
<p>Cách này chỉ sử dụng với Ipython</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
211713248
</pre></div></div>
</div>
</section>
<section id="Bỏ-qua-giá-trị-không-cần-thiết">
<h3><span class="section-number">13.6.2. </span>Bỏ qua giá trị không cần thiết<a class="headerlink" href="#Bỏ-qua-giá-trị-không-cần-thiết" title="Link to this heading"></a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span><span class="n">_</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">,</span> <span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(1, 3)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ignore nhiều giá trị</span>
<span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
7
</pre></div></div>
</div>
</section>
<section id="Sử-dụng-trong-loop">
<h3><span class="section-number">13.6.3. </span>Sử dụng trong loop<a class="headerlink" href="#Sử-dụng-trong-loop" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0
1
2
3
4
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">languages</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;Scala&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
R
Python
Scala
</pre></div></div>
</div>
</section>
<section id="Phân-cách-hàng-nghìn">
<h3><span class="section-number">13.6.4. </span>Phân cách hàng nghìn<a class="headerlink" href="#Phân-cách-hàng-nghìn" title="Link to this heading"></a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1_000_000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1000000
</pre></div></div>
</div>
</section>
<section id="Đặt-tên-có-chứa-_">
<h3><span class="section-number">13.6.5. </span>Đặt tên có chứa <code class="docutils literal notranslate"><span class="pre">_</span></code><a class="headerlink" href="#Đặt-tên-có-chứa-_" title="Link to this heading"></a></h3>
<p>Trong Python, có 4 cách đặt tên chứa <code class="docutils literal notranslate"><span class="pre">_</span></code>: - Một dấu đằng trước: <code class="docutils literal notranslate"><span class="pre">_name</span></code> - Một dấu đằng sau: <code class="docutils literal notranslate"><span class="pre">name_</span></code> - Hai dấu đằng trước: <code class="docutils literal notranslate"><span class="pre">__name</span></code> - Hai dấu ở hai bên: <code class="docutils literal notranslate"><span class="pre">__name__</span></code></p>
<section id="Một-dấu-đằng-trước">
<h4><span class="section-number">13.6.5.1. </span>Một dấu đằng trước<a class="headerlink" href="#Một-dấu-đằng-trước" title="Link to this heading"></a></h4>
<p>Cho phép bỏ qua hàm khi import</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tạo file my_functions.py</span>
</pre></div>
</div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">## filename: my_functions.py</span>
<span class="c1">## Ví dụ để hiểu rõ chức năng của dấu gạch dưới trong python</span>

<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;Anh Hoang Duc&quot;</span>

<span class="k">def</span> <span class="nf">_private_func</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">7</span>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="kn">from</span> <span class="nn">my_functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">func</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;Anh Hoang Duc&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">_private_func</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[27], line 2</span>
<span class="ansi-green-fg">      1</span> <span style="color: rgb(95,135,135)">#| eval: false</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 2</span> <span class="ansi-yellow-bg">_private_func</span>()

<span class="ansi-red-intense-fg ansi-bold">NameError</span>: name &#39;_private_func&#39; is not defined
</pre></div></div>
</div>
<p>Trong cách import trên, hàm <code class="docutils literal notranslate"><span class="pre">_private_func</span></code> đã không được import vào trong môi trường làm việc. Ta có thể import vào môi trường làm việc như sau</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="kn">import</span> <span class="nn">my_functions</span>

<span class="n">my_functions</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>

<span class="n">my_functions</span><span class="o">.</span><span class="n">_private_func</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7
</pre></div></div>
</div>
</section>
<section id="Gạch-dưới-cuối-tên">
<h4><span class="section-number">13.6.5.2. </span>Gạch dưới cuối tên<a class="headerlink" href="#Gạch-dưới-cuối-tên" title="Link to this heading"></a></h4>
<p>Sử dụng khi dùng làm keyword</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">class</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="n">class</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-cyan-intense-fg ansi-bold">  Cell </span><span class="ansi-green-intense-fg ansi-bold">In[29], line 2</span>
<span class="ansi-yellow-intense-fg ansi-bold">    def function(class):</span>
<span class="ansi-white-intense-fg ansi-bold">                 ^</span>
<span class="ansi-red-intense-fg ansi-bold">SyntaxError</span><span class="ansi-red-intense-fg ansi-bold">:</span> invalid syntax

</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">class_</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="n">class_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">function</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
9
</pre></div></div>
</div>
</section>
<section id="Hai-gạch-dưới-đầu-tên">
<h4><span class="section-number">13.6.5.3. </span>Hai gạch dưới đầu tên<a class="headerlink" href="#Hai-gạch-dưới-đầu-tên" title="Link to this heading"></a></h4>
</section>
</section>
</section>
<section id="List-object-trong-môi-trường-làm-việc">
<h2><span class="section-number">13.7. </span>List object trong môi trường làm việc<a class="headerlink" href="#List-object-trong-môi-trường-làm-việc" title="Link to this heading"></a></h2>
<p>Hiển thị tất cả các biến trong môi trường: sử dụng <code class="docutils literal notranslate"><span class="pre">%whos</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">whos</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Variable       Type        Data/Info
------------------------------------
a              int         1
b              int         7
c              int         3
func           function    &lt;function func at 0x000001FBCAF8E520&gt;
func_1         function    &lt;function func_1 at 0x000001FBCA4FE5C0&gt;
function       function    &lt;function function at 0x000001FBCAF8DE40&gt;
languages      list        n=3
my_functions   module      &lt;module &#39;my_functions&#39; fr&lt;...&gt;source\\my_functions.py&#39;&gt;
sum_of_lists   function    &lt;function sum_of_lists at 0x000001FBCA331760&gt;
x              int         7
y              str         test
</pre></div></div>
</div>
<p>Sử dụng <code class="docutils literal notranslate"><span class="pre">%who_ls</span> <span class="pre">data_type</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="o">%</span><span class="k">who_ls</span> DataFrame
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;df&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">who_ls</span> list
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;languages&#39;, &#39;x&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">who_ls</span> DataFrame list
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;df&#39;, &#39;languages&#39;, &#39;x&#39;]
</pre></div></div>
</div>
</section>
<section id="Hiển-thị-nhiều-kết-quả-trong-1-cell">
<h2><span class="section-number">13.8. </span>Hiển thị nhiều kết quả trong 1 cell<a class="headerlink" href="#Hiển-thị-nhiều-kết-quả-trong-1-cell" title="Link to this heading"></a></h2>
<p>Trong jupyter notebook, kết quả trong 1 cell chỉ được hiển thị 1 lần. ta có thể khắc phục như sau</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="kn">from</span> <span class="nn">IPython.core.interactiveshell</span> <span class="kn">import</span> <span class="n">InteractiveShell</span>
<span class="n">InteractiveShell</span><span class="o">.</span><span class="n">ast_node_interactivity</span> <span class="o">=</span> <span class="s2">&quot;all&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">x</span>
<span class="n">y</span>
<span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
8
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
56
</pre></div></div>
</div>
</section>
<section id="Assign-string-thành-object">
<h2><span class="section-number">13.9. </span>Assign string thành object<a class="headerlink" href="#Assign-string-thành-object" title="Link to this heading"></a></h2>
<p><strong>Problem</strong>: Tạo cùng lúc nhiều object, gán mỗi object với 1 giá trị</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">df_name</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;df1&quot;</span><span class="p">,</span> <span class="s2">&quot;df2&quot;</span><span class="p">,</span> <span class="s2">&quot;df3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df_name</span><span class="p">:</span>
    <span class="nb">globals</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
df1
[0.21859902]
df2
[0.51883594]
df3
[0.75769141]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df_name</span><span class="p">:</span>
    <span class="k">del</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="Evaluation">
<h2><span class="section-number">13.10. </span>Evaluation<a class="headerlink" href="#Evaluation" title="Link to this heading"></a></h2>
<p>Tương tự như R, Python có thể sử dụng evaluation để thực hiện lập trình</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_df</span> <span class="o">=</span> <span class="mi">7</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;my_df&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7
</pre></div></div>
</div>
</section>
<section id="Xóa-toàn-bộ-environment">
<h2><span class="section-number">13.11. </span>Xóa toàn bộ environment<a class="headerlink" href="#Xóa-toàn-bộ-environment" title="Link to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="c1"># Xóa dataframe</span>
<span class="n">all_var</span> <span class="o">=</span> <span class="o">%</span><span class="k">who_ls</span> DataFrame
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_var</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">globals</span><span class="p">()[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
   x
0  1
1  2
2  3
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">all_var</span><span class="p">:</span>
    <span class="k">del</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">_</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="o">%</span><span class="k">who_ls</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;InteractiveShell&#39;,
 &#39;a&#39;,
 &#39;all_var&#39;,
 &#39;b&#39;,
 &#39;c&#39;,
 &#39;df_name&#39;,
 &#39;func&#39;,
 &#39;func_1&#39;,
 &#39;function&#39;,
 &#39;i&#39;,
 &#39;languages&#39;,
 &#39;my_df&#39;,
 &#39;my_functions&#39;,
 &#39;np&#39;,
 &#39;pd&#39;,
 &#39;sum_of_lists&#39;,
 &#39;x&#39;,
 &#39;y&#39;]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="c1"># Delete all</span>
<span class="o">%</span><span class="k">reset</span> -f
</pre></div>
</div>
</div>
</section>
<section id="Lưu-code-từ-cell-thành-file">
<h2><span class="section-number">13.12. </span>Lưu code từ cell thành file<a class="headerlink" href="#Lưu-code-từ-cell-thành-file" title="Link to this heading"></a></h2>
<p>Sử dụng magic command %%writefile</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">writefile</span> <span class="mf">09.</span><span class="n">test_script</span><span class="o">/</span><span class="mi">03</span><span class="n">_test_script</span><span class="o">.</span><span class="n">py</span>
<span class="k">def</span> <span class="nf">joke</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;My job&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="Mở-một-loạt-file-text-và-sửa-nội-dung">
<h2><span class="section-number">13.13. </span>Mở một loạt file text và sửa nội dung<a class="headerlink" href="#Mở-một-loạt-file-text-và-sửa-nội-dung" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="k">def</span> <span class="nf">replace_md</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">find</span><span class="p">,</span> <span class="n">replace</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">find</span><span class="p">,</span> <span class="n">replace</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;../_book&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.md&quot;</span><span class="p">):</span>
    <span class="n">replace_md</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span><span class="p">,</span> <span class="n">find</span> <span class="o">=</span> <span class="s1">&#39;&lt;img src=&quot;&#39;</span><span class="p">,</span> <span class="n">replace</span> <span class="o">=</span> <span class="s1">&#39;![](&#39;</span><span class="p">)</span>
    <span class="n">replace_md</span><span class="p">(</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span><span class="p">,</span> <span class="n">find</span> <span class="o">=</span> <span class="s1">&#39;&quot; width=&quot;672&quot; /&gt;&#39;</span><span class="p">,</span> <span class="n">replace</span> <span class="o">=</span> <span class="s1">&#39;)</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">FileNotFoundError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[51], line 10</span>
<span class="ansi-green-fg">      7</span>         f<span style="color: rgb(98,98,98)">.</span>write(s)
<span class="ansi-green-fg">      9</span> <span class="ansi-bold" style="color: rgb(0,135,0)">import</span> <span class="ansi-bold" style="color: rgb(0,0,255)">glob</span><span style="color: rgb(98,98,98)">,</span> <span class="ansi-bold" style="color: rgb(0,0,255)">os</span>
<span class="ansi-green-intense-fg ansi-bold">---&gt; 10</span> <span class="ansi-yellow-bg">os</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">chdir</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">../_book</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg">     11</span> <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> file <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> glob<span style="color: rgb(98,98,98)">.</span>glob(<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">*.md</span><span style="color: rgb(175,0,0)">&#34;</span>):
<span class="ansi-green-fg">     12</span>     replace_md(file <span style="color: rgb(98,98,98)">=</span> file, find <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">&lt;img src=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">&#39;</span>, replace <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">![](</span><span style="color: rgb(175,0,0)">&#39;</span>)

<span class="ansi-red-intense-fg ansi-bold">FileNotFoundError</span>: [WinError 2] The system cannot find the file specified: &#39;../_book&#39;
</pre></div></div>
</div>
</section>
<section id="Chạy-file-python-từ-bat">
<h2><span class="section-number">13.14. </span>Chạy file python từ bat<a class="headerlink" href="#Chạy-file-python-từ-bat" title="Link to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#| eval: false</span>
<span class="n">python</span> <span class="n">script</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-cyan-intense-fg ansi-bold">  Cell </span><span class="ansi-green-intense-fg ansi-bold">In[52], line 2</span>
<span class="ansi-yellow-intense-fg ansi-bold">    python script.py</span>
<span class="ansi-white-intense-fg ansi-bold">           ^</span>
<span class="ansi-red-intense-fg ansi-bold">SyntaxError</span><span class="ansi-red-intense-fg ansi-bold">:</span> invalid syntax

</pre></div></div>
</div>
</section>
<section id="Auto-format">
<h2><span class="section-number">13.15. </span>Auto format<a class="headerlink" href="#Auto-format" title="Link to this heading"></a></h2>
<p>Ta có thể sử dụng package <code class="docutils literal notranslate"><span class="pre">black</span></code> để auto format lại các file trong python.</p>
<ul class="simple">
<li><p>Tất cả string để lại dưới dạng ngoặc kép (double quoted)</p></li>
<li><p>Loại các khoảng trắng không cần thiết</p></li>
<li><p>Chuẩn hóa các đoạn code dài</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">black</span> <span class="n">script</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="p01-19-so-sanh-python-r.html" class="btn btn-neutral float-left" title="12. So sánh R với Python cơ bản" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="p02-01-sklearn.html" class="btn btn-neutral float-right" title="1. Giới thiệu cơ bản về Scikit learn" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Anh Hoang Duc.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>